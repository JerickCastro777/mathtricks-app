{
  "generatedAt": "2025-10-18T18:02:57.510Z",
  "root": "C:\\Users\\Usuario\\Downloads\\aplicativo",
  "files": {
    "App.js": {
      "path": "App.js",
      "imports": [
        {
          "raw": "import { NavigationContainer } from '@react-navigation/native';",
          "source": "@react-navigation/native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "NavigationContainer",
              "imported": "NavigationContainer"
            }
          ]
        },
        {
          "raw": "import TabNavigator from './navigation/TabNavigator';",
          "source": "./navigation/TabNavigator",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "TabNavigator",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import AuthStackScreen from './navigation/AuthStack';",
          "source": "./navigation/AuthStack",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "AuthStackScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { AppProvider, AppContext } from './contexts/AppContext';",
          "source": "./contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppProvider",
              "imported": "AppProvider"
            },
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import { Modal } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "Modal",
              "imported": "Modal"
            }
          ]
        },
        {
          "raw": "import ProfileScreen from './screens/ProfileScreen';",
          "source": "./screens/ProfileScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "ProfileScreen",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function App() {\n  return (\n    <AppProvider>\n      <NavigationContainer>\n        <AppContext.Consumer>\n          {({ user, profileModalVisible, closeProfileModal }) =>\n            user ? (\n              <>\n                <TabNavigator />\n                <Modal\n                  visible={profileModalVisible}\n                  animationType=\"slide\"\n                  transparent\n                  onRequestClose={closeProfileModal}\n                >\n                  <ProfileScreen onClose={closeProfileModal} />\n                </Modal>\n              </>\n            ) : (\n              <AuthStackScreen />\n            )\n          }\n        </AppContext.Consumer>\n      </NavigationContainer>\n    </AppProvider>\n  );\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "App",
          "params": []
        }
      ],
      "variables": [],
      "components": [
        {
          "name": "App",
          "jsx": true
        },
        {
          "name": "App",
          "jsx": true
        },
        {
          "name": "App",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [],
      "firebasePaths": [],
      "stringKeys": [
        "react-native",
        "slide"
      ]
    },
    "IA\\chatGPTConfig.js": {
      "path": "IA\\chatGPTConfig.js",
      "imports": [
        {
          "raw": "import axios from \"axios\";",
          "source": "axios",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "axios",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "named",
          "raw": "export async function generarLote(level, category, count = 10) {\r\n  const cat = String(category || \"\").toLowerCase();\r\n  const lev = String(level || \"\").toLowerCase();\r\n  const n = Math.max(1, Math.min(200, parseInt(count || 1, 10)));\r\n\r\n  const sys =\r\n    `Eres un generador de ejercicios para estudiantes de 7춿.` +\r\n    ` Categor칤a: ${cat}. Nivel: ${lev}.` +\r\n    ` Debes generar ejercicios de:` +\r\n    ` - Fracciones: suma, resta, multiplicaci칩n, divisi칩n, simplificaci칩n, comparaci칩n.` +\r\n    ` - 츼lgebra: expresiones, evaluaci칩n, propiedades, simplificaci칩n b치sica.` +\r\n    ` - Ecuaciones: lineales de una inc칩gnita.` +\r\n    ` Entrega 50% opci칩n m칰ltiple (4 opciones) y 50% emparejamiento.` +\r\n    ` Sin repeticiones dentro del lote. Resultados num칠ricos limpios.` +\r\n    ` Responde SOLO un array JSON v치lido, sin texto antes ni despu칠s.`;\r\n\r\n  const user =\r\n`Genera EXACTAMENTE ${n} ejercicios NUEVOS en el siguiente formato como un ARRAY JSON (no envuelvas en objeto):\r\n\r\n[\r\n  {\r\n    \"tipo\": \"opcion_multiple\",\r\n    \"pregunta\": \"string\",\r\n    \"opciones\": [\"string\",\"string\",\"string\",\"string\"],\r\n    \"respuesta\": \"string\",\r\n    \"explicacion\": \"string\"\r\n  },\r\n  {\r\n    \"tipo\": \"emparejamiento\",\r\n    \"instrucciones\": \"string\",\r\n    \"izquierda\": [\"string\",\"string\",\"string\",\"string\"],\r\n    \"derecha\": [\"string\",\"string\",\"string\",\"string\"],\r\n    \"respuestas\": [[0,1],[1,2],[2,3],[3,0]],\r\n    \"explicacion\": \"string\"\r\n  }\r\n]`;\r\n\r\n  // 游릭 Modelo v치lido y econ칩mico para este caso\r\n  const model = \"gpt-4o-mini\";\r\n\r\n  let raw = \"[]\";\r\n\r\n  try {\r\n    const { data } = await api.post(\"/chat/completions\", {\r\n      model,\r\n      messages: [\r\n        { role: \"system\", content: sys },\r\n        { role: \"user\", content: user },\r\n      ],\r\n      temperature: 0.4,\r\n      // OJO: no usamos response_format para no forzar objeto.\r\n    });\r\n\r\n    raw = data?.choices?.[0]?.message?.content ?? \"[]\";\r\n  } catch (err) {\r\n    // Mensaje de error razonable\r\n    const msg =\r\n      err?.response?.data?.error?.message ||\r\n      err?.message ||\r\n      \"Error solicitando ejercicios a OpenAI\";\r\n    console.warn(\"[generarLote] OpenAI error:\", msg);\r\n    throw new Error(msg);\r\n  }\r\n\r\n  // Parseo robusto (la IA a veces env칤a objeto en vez de array)\r\n  let arr = [];\r\n  try {\r\n    const any = JSON.parse(raw);\r\n    if (Array.isArray(any)) {\r\n      arr = any;\r\n    } else if (any && Array.isArray(any.array)) {\r\n      arr = any.array;\r\n    } else {\r\n      const k = Object.keys(any || {}).find((x) => Array.isArray(any[x]));\r\n      arr = k ? any[k] : [];\r\n    }\r\n  } catch {\r\n    // Si viene con texto basura, intenta limpiar\r\n    const start = raw.indexOf(\"[\");\r\n    const end = raw.lastIndexOf(\"]\");\r\n    if (start >= 0 && end > start) {\r\n      try {\r\n        arr = JSON.parse(raw.slice(start, end + 1));\r\n      } catch {\r\n        arr = [];\r\n      }\r\n    } else {\r\n      arr = [];\r\n    }\r\n  }\r\n\r\n  const normalized = arr.map((x) => normalizeOne(x, lev, cat)).filter(Boolean);\r\n\r\n  // --- Rebalanceo 50/50 ---\r\n  const wantMultiple = Math.floor(n / 2);\r\n  const wantMatching = n - wantMultiple;\r\n\r\n  const multiples = shuffleInPlace(normalized.filter((q) => q.type === \"multiple\"));\r\n  const matchings = shuffleInPlace(normalized.filter((q) => q.type === \"matching\"));\r\n\r\n  const pickMultiples = multiples.slice(0, wantMultiple);\r\n  const pickMatchings = matchings.slice(0, wantMatching);\r\n\r\n  let combined = [...pickMultiples, ...pickMatchings];\r\n\r\n  if (combined.length < n) {\r\n    const deficit = n - combined.length;\r\n    const leftovers = [\r\n      ...multiples.slice(pickMultiples.length),\r\n      ...matchings.slice(pickMatchings.length),\r\n    ];\r\n    combined = [...combined, ...leftovers.slice(0, deficit)];\r\n  }\r\n\r\n  return shuffleInPlace(combined).slice(0, n);\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "normalizeOne",
          "params": [
            "Identifier",
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "generarLote",
          "params": [
            "Identifier",
            "Identifier",
            "AssignmentPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "OPENAI_API_KEY",
          "kind": "const"
        },
        {
          "name": "api",
          "kind": "const"
        },
        {
          "invoked": "create"
        },
        {
          "name": "tipo",
          "kind": "const"
        },
        {
          "name": "left",
          "kind": "const"
        },
        {
          "name": "right",
          "kind": "const"
        },
        {
          "name": "pairs",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "opciones",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "shuffleInPlace",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "i",
          "kind": "let"
        },
        {
          "name": "j",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "invoked": "random"
        },
        {
          "name": "cat",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "lev",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "n",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "min"
        },
        {
          "name": "sys",
          "kind": "const"
        },
        {
          "name": "user",
          "kind": "const"
        },
        {
          "name": "model",
          "kind": "const"
        },
        {
          "name": "raw",
          "kind": "let"
        },
        {
          "invoked": "post"
        },
        {
          "name": "msg",
          "kind": "const"
        },
        {
          "invoked": "warn"
        },
        {
          "name": "arr",
          "kind": "let"
        },
        {
          "name": "any",
          "kind": "const"
        },
        {
          "invoked": "parse"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "k",
          "kind": "const"
        },
        {
          "invoked": "find"
        },
        {
          "invoked": "keys"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "start",
          "kind": "const"
        },
        {
          "invoked": "indexOf"
        },
        {
          "name": "end",
          "kind": "const"
        },
        {
          "invoked": "lastIndexOf"
        },
        {
          "invoked": "parse"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "normalized",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "invoked": "map"
        },
        {
          "name": "wantMultiple",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "wantMatching",
          "kind": "const"
        },
        {
          "name": "multiples",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "name": "matchings",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "name": "pickMultiples",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "pickMatchings",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "combined",
          "kind": "let"
        },
        {
          "name": "deficit",
          "kind": "const"
        },
        {
          "name": "leftovers",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "baseURL",
            "headers",
            "timeout"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "Content-Type",
            "Authorization"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "level",
            "category",
            "instructions",
            "left",
            "right",
            "pairs",
            "explanation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "level",
            "category",
            "question",
            "options",
            "answer",
            "explanation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "model",
            "messages",
            "temperature"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "role",
            "content"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "role",
            "content"
          ]
        }
      ],
      "firebasePaths": [],
      "stringKeys": [
        "axios",
        "***REMOVED***",
        "Content-Type",
        "application/json",
        "object",
        "emparejamiento",
        "matching",
        "multiple",
        "tipo",
        "opcion_multiple",
        "pregunta",
        "string",
        "opciones",
        "respuesta",
        "explicacion",
        "instrucciones",
        "izquierda",
        "derecha",
        "respuestas",
        "gpt-4o-mini",
        "/chat/completions",
        "system",
        "user"
      ]
    },
    "babel.config.js": {
      "path": "babel.config.js",
      "imports": [],
      "exports": [],
      "functions": [],
      "variables": [
        {
          "invoked": "cache"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "presets",
            "plugins"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "babel-preset-expo",
        "react-native-reanimated/plugin"
      ]
    },
    "contexts\\AppContext.js": {
      "path": "contexts\\AppContext.js",
      "imports": [
        {
          "raw": "import React, { useState, useEffect, useCallback, useMemo } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            },
            {
              "type": "ImportSpecifier",
              "local": "useEffect",
              "imported": "useEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useCallback",
              "imported": "useCallback"
            },
            {
              "type": "ImportSpecifier",
              "local": "useMemo",
              "imported": "useMemo"
            }
          ]
        },
        {
          "raw": "import { ref, set, get, update } from 'firebase/database';",
          "source": "firebase/database",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "ref",
              "imported": "ref"
            },
            {
              "type": "ImportSpecifier",
              "local": "set",
              "imported": "set"
            },
            {
              "type": "ImportSpecifier",
              "local": "get",
              "imported": "get"
            },
            {
              "type": "ImportSpecifier",
              "local": "update",
              "imported": "update"
            }
          ]
        },
        {
          "raw": "import AsyncStorage from '@react-native-async-storage/async-storage';",
          "source": "@react-native-async-storage/async-storage",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "AsyncStorage",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { db, loginUser, registerUser } from '../firebase/firebaseConfig.js';",
          "source": "../firebase/firebaseConfig.js",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "db",
              "imported": "db"
            },
            {
              "type": "ImportSpecifier",
              "local": "loginUser",
              "imported": "loginUser"
            },
            {
              "type": "ImportSpecifier",
              "local": "registerUser",
              "imported": "registerUser"
            }
          ]
        },
        {
          "raw": "import Toast from 'react-native-toast-message';",
          "source": "react-native-toast-message",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "Toast",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { generarLote } from '../IA/chatGPTConfig';",
          "source": "../IA/chatGPTConfig",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "generarLote",
              "imported": "generarLote"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "named",
          "raw": "export const AppContext = React.createContext();",
          "declarationType": "VariableDeclaration"
        },
        {
          "type": "named",
          "raw": "export function AppProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const [profileModalVisible, setProfileModalVisible] = useState(false);\r\n\r\n  const [highContrast, _setHighContrast] = useState(false);\r\n  const [reduceMotion, _setReduceMotion] = useState(false);\r\n  const [preloadNext, _setPreloadNext] = useState(false);\r\n\r\n  /** Pool local (compatibilidad con pantallas existentes) **/\r\n  const [questionPool, setQuestionPool] = useState([]); // [{...pregunta, _idHash}]\r\n\r\n  /** ================== PREFS LOCALES ================== **/\r\n  useEffect(() => {\r\n    (async () => {\r\n      const [hc, rm, pl] = await Promise.all([\r\n        AsyncStorage.getItem(K_HC),\r\n        AsyncStorage.getItem(K_RM),\r\n        AsyncStorage.getItem(K_PL),\r\n      ]);\r\n      if (hc !== null) _setHighContrast(hc === '1');\r\n      if (rm !== null) _setReduceMotion(rm === '1');\r\n      if (pl !== null) _setPreloadNext(pl === '1');\r\n    })();\r\n  }, []);\r\n\r\n  /** ================== AUTH ================== **/\r\n  const signUp = useCallback(async (fullName, documentId, course, email, password) => {\r\n    try {\r\n      const auth = await registerUser(email, password);\r\n      const preferences = { highContrast: false, reduceMotion: false, preloadNext: false };\r\n      const progress = {\r\n        xp: 0,\r\n        currentStreak: 0,\r\n        bestStreak: 0,\r\n        lastSessionDate: null,\r\n        totalCorrect: 0,\r\n        totalWrong: 0,\r\n        chests: 0,\r\n        lives: DEFAULT_LIVES,\r\n        livesMax: DEFAULT_LIVES,\r\n        lifeRecoveryMinutes: DEFAULT_RECOVERY_MIN,\r\n        lastLifeTs: Date.now(),\r\n        maxAttemptsPerQuestion: DEFAULT_ATTEMPTS,\r\n      };\r\n      await set(ref(db, `users/${auth.uid}`), {\r\n        id: auth.uid, fullName, documentId, course, email,\r\n        isAdmin: false,\r\n        preferences, progress,\r\n        questionPool: [], // compat\r\n      });\r\n      setUser({ ...auth, fullName, documentId, course, email, isAdmin: false, preferences, progress });\r\n      setQuestionPool([]);\r\n    } catch (e) {\r\n      Toast.show({ type: 'error', text1: 'Error', text2: e.message });\r\n    }\r\n  }, []);\r\n\r\n  const signIn = useCallback(async (email, password) => {\r\n    try {\r\n      const auth = await loginUser(email, password);\r\n      const snap = await get(ref(db, `users/${auth.uid}`));\r\n      const info = snap.val();\r\n      if (info) {\r\n        const p = info.progress || {};\r\n        const progress = {\r\n          ...p,\r\n          lives: p.lives ?? DEFAULT_LIVES,\r\n          livesMax: p.livesMax ?? DEFAULT_LIVES,\r\n          lifeRecoveryMinutes: p.lifeRecoveryMinutes ?? DEFAULT_RECOVERY_MIN,\r\n          lastLifeTs: p.lastLifeTs ?? Date.now(),\r\n          maxAttemptsPerQuestion: p.maxAttemptsPerQuestion ?? DEFAULT_ATTEMPTS,\r\n        };\r\n        const pr = info.preferences || {};\r\n        setUser({ ...auth, ...info, isAdmin: !!info.isAdmin, progress });\r\n        _setHighContrast(!!pr.highContrast);\r\n        _setReduceMotion(!!pr.reduceMotion);\r\n        _setPreloadNext(!!pr.preloadNext);\r\n        await AsyncStorage.multiSet([\r\n          [K_HC, pr.highContrast ? '1' : '0'],\r\n          [K_RM, pr.reduceMotion ? '1' : '0'],\r\n          [K_PL, pr.preloadNext ? '1' : '0'],\r\n        ]);\r\n        // restaura pool local si existiera\r\n        setQuestionPool(Array.isArray(info.questionPool) ? info.questionPool : []);\r\n        await recomputeLives({ ...auth, ...info, progress });\r\n      } else {\r\n        setUser(auth);\r\n        setQuestionPool([]);\r\n      }\r\n    } catch {\r\n      Toast.show({ type: 'error', text1: 'Error', text2: 'Credenciales inv치lidas' });\r\n    }\r\n  }, []);\r\n\r\n  const signOut = useCallback(() => { setUser(null); setQuestionPool([]); }, []);\r\n\r\n  /** ================== PREFERENCIAS ================== **/\r\n  const patchPreferencesRemote = useCallback(async (patch) => {\r\n    if (!user?.id) return;\r\n    await update(ref(db, `users/${user.id}/preferences`), patch);\r\n    setUser((u) => ({ ...u, preferences: { ...(u?.preferences || {}), ...patch } }));\r\n  }, [user?.id]);\r\n\r\n  const setHighContrast = useCallback(async v => {\r\n    _setHighContrast(v);\r\n    await AsyncStorage.setItem(K_HC, v ? '1' : '0');\r\n    await patchPreferencesRemote({ highContrast: !!v });\r\n  }, [patchPreferencesRemote]);\r\n\r\n  const setReduceMotion = useCallback(async v => {\r\n    _setReduceMotion(v);\r\n    await AsyncStorage.setItem(K_RM, v ? '1' : '0');\r\n    await patchPreferencesRemote({ reduceMotion: !!v });\r\n  }, [patchPreferencesRemote]);\r\n\r\n  const setPreloadNext = useCallback(async v => {\r\n    _setPreloadNext(v);\r\n    await AsyncStorage.setItem(K_PL, v ? '1' : '0');\r\n    await patchPreferencesRemote({ preloadNext: !!v });\r\n  }, [patchPreferencesRemote]);\r\n\r\n  const toggleHighContrast = useCallback(() => setHighContrast(prev => !prev), [setHighContrast]);\r\n\r\n  /** ================== POOL LOCAL (compat) ================== **/\r\n  const persistPool = useCallback(async (list) => {\r\n    const trimmed = list.slice(-POOL_CAP);\r\n    if (!user?.id) { setQuestionPool(trimmed); return; }\r\n    await update(ref(db, `users/${user.id}`), { questionPool: trimmed });\r\n    setQuestionPool(trimmed);\r\n  }, [user?.id]);\r\n\r\n  const addToPool = useCallback(async (q) => {\r\n    if (!q) return;\r\n    const enriched = normalizeQuestion(q, q.level, q.category);\r\n    const _idHash = makeHash(enriched);\r\n    setQuestionPool(prev => {\r\n      if (prev.some(x => x._idHash === _idHash)) return prev;\r\n      const next = [...prev, { ...enriched, _idHash }];\r\n      persistPool(next).catch(() => { });\r\n      return next;\r\n    });\r\n  }, [persistPool]);\r\n\r\n  /** ================== BD: helpers ================== **/\r\n  const upsertQuestionsToDB = async (category, level, list) => {\r\n    if (!list?.length) return;\r\n    const patch = {};\r\n    for (const q of list) {\r\n      const norm = normalizeQuestion(q, level, category);\r\n      const h = makeHash(norm);\r\n      patch[h] = norm;\r\n    }\r\n    await update(ref(db, `questions/${category}/${level}`), patch);\r\n  };\r\n\r\n  const fetchRandomFromDB = async ({ category, level, count = 1 }) => {\r\n    const cat = String(category || '').toLowerCase();\r\n    const lev = String(level || '').toLowerCase();\r\n    const snap = await get(ref(db, `questions/${cat}/${lev}`));\r\n    const data = snap.val() || {};\r\n    const bucket = Object.keys(data).map((h) => {\r\n      const norm = normalizeQuestion(data[h], lev, cat);\r\n      return { ...norm, _idHash: h };\r\n    });\r\n    // shuffle\r\n    for (let i = bucket.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [bucket[i], bucket[j]] = [bucket[j], bucket[i]];\r\n    }\r\n    return bucket.slice(0, count);\r\n  };\r\n\r\n  /** ================== API P칔BLICA SOBRE PREGUNTAS ================== **/\r\n\r\n  // Mantengo esta funci칩n: intenta traer 1 de pool local; si no hay, va a BD.\r\n  // Solo si no hay stock en BD y el usuario es admin, genera un lote peque침o y guarda.\r\n  const generateAndStore = useCallback(async ({ level, category, fallbackBatchSize = 10 }) => {\r\n    // 1) consumir del pool local compatible\r\n    let picked = null;\r\n    setQuestionPool(prev => {\r\n      const idx = prev.findIndex(q => q.level === level && q.category === category);\r\n      if (idx >= 0) {\r\n        picked = prev[idx];\r\n        const rest = [...prev.slice(0, idx), ...prev.slice(idx + 1)];\r\n        persistPool(rest).catch(() => { });\r\n        return rest;\r\n      }\r\n      return prev;\r\n    });\r\n    if (picked) return picked;\r\n\r\n    // 2) leer 1 desde BD global\r\n    const fromDB = await fetchRandomFromDB({ level, category, count: 1 });\r\n    if (fromDB?.length) return fromDB[0];\r\n\r\n    // 3) si no hay stock en BD: como 칔LTIMO recurso, solo admin genera lote\r\n    if (user?.isAdmin) {\r\n      const generated = await generarLote(level, category, Math.max(5, fallbackBatchSize));\r\n      if (generated?.length) {\r\n        await upsertQuestionsToDB(category, level, generated);\r\n        Toast.show({ type: 'success', text1: `Se crearon ${generated.length} nuevas preguntas` });\r\n        const again = await fetchRandomFromDB({ level, category, count: 1 });\r\n        return again[0] || null;\r\n      }\r\n    }\r\n\r\n    Toast.show({ type: 'info', text1: 'No hay preguntas disponibles en BD' });\r\n    return null;\r\n  }, [persistPool, user?.isAdmin]);\r\n\r\n  // Compat: obtiene 1 para las vistas que la piden. NO genera individuales.\r\n  const getNextQuestion = useCallback(async ({ level, category }) => {\r\n    // primero pool local\r\n    let picked = null;\r\n    setQuestionPool(prev => {\r\n      const idx = prev.findIndex(q => q.level === level && q.category === category);\r\n      if (idx >= 0) {\r\n        picked = prev[idx];\r\n        const rest = [...prev.slice(0, idx), ...prev.slice(idx + 1)];\r\n        persistPool(rest).catch(() => { });\r\n        if (preloadNext && rest.length < POOL_MIN) {\r\n          // precarga pasiva: lee 1 de BD y lo mete al pool\r\n          fetchRandomFromDB({ level, category, count: 1 }).then(list => list[0] && addToPool(list[0])).catch(() => { });\r\n        }\r\n        return rest;\r\n      }\r\n      return prev;\r\n    });\r\n    if (picked) return picked;\r\n\r\n    // si no, pide 1 a BD\r\n    const fromDB = await fetchRandomFromDB({ level, category, count: 1 });\r\n    if (fromDB?.length) return fromDB[0];\r\n\r\n    // 칰ltimo recurso coherente con tu regla: no generamos individuales; delega en generateAndStore (que genera lote solo admin)\r\n    return await generateAndStore({ level, category });\r\n  }, [persistPool, preloadNext, addToPool, generateAndStore]);\r\n\r\n  // Obtiene un lote aleatorio desde BD (permite mezclar niveles/categor칤as)\r\n  const getBatchQuestions = useCallback(\r\n    async ({ level, count = 5, categories = ['fracciones', 'algebra', 'ecuaciones'] }) => {\r\n      const lev = String(level || '').toLowerCase();\r\n      let bucket = [];\r\n\r\n      for (const rawCat of categories) {\r\n        const cat = String(rawCat || '').toLowerCase();\r\n        const snap = await get(ref(db, `questions/${cat}/${lev}`));\r\n        const data = snap.val() || {};\r\n        for (const h of Object.keys(data)) {\r\n          const norm = normalizeQuestion(data[h], lev, cat);\r\n          if (norm.category === cat && norm.level === lev) {\r\n            bucket.push({ ...norm, _idHash: h });\r\n          }\r\n        }\r\n      }\r\n\r\n      // Separar por tipo y barajar\r\n      const shuffle = (a) => { for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1));[a[i], a[j]] = [a[j], a[i]]; } return a; };\r\n      const mult = shuffle(bucket.filter(q => q.type === 'multiple'));\r\n      const match = shuffle(bucket.filter(q => q.type === 'matching'));\r\n\r\n      const wantMult = Math.floor(count / 2);\r\n      const wantMatch = count - wantMult;\r\n\r\n      const pickMult = mult.slice(0, wantMult);\r\n      const pickMatch = match.slice(0, wantMatch);\r\n\r\n      let out = [...pickMult, ...pickMatch];\r\n\r\n      // Si falta alguno, rellenar con el otro tipo\r\n      if (out.length < count) {\r\n        const deficit = count - out.length;\r\n        const leftovers = [...mult.slice(pickMult.length), ...match.slice(pickMatch.length)];\r\n        out = [...out, ...leftovers.slice(0, deficit)];\r\n      }\r\n\r\n      // Barajar resultado final\r\n      return shuffle(out).slice(0, count);\r\n    },\r\n    []\r\n  );\r\n\r\n  // Admin: crear lote y guardar (dedup contra BD)\r\n  const createQuestionsBatch = useCallback(async ({ category, level, count }) => {\r\n    if (!user?.isAdmin) {\r\n      Toast.show({ type: 'error', text1: 'No autorizado' });\r\n      return [];\r\n    }\r\n    const cat = String(category || '').toLowerCase();\r\n    const lev = String(level || '').toLowerCase();\r\n\r\n    const existingSnap = await get(ref(db, `questions/${cat}/${lev}`));\r\n    const existingMap = existingSnap.val() || {};\r\n    const existingHashes = new Set(Object.keys(existingMap));\r\n\r\n    // Pedimos algo de holgura para poder balancear 50/50\r\n    const overshoot = Math.max(4, Math.ceil(count * 0.4));\r\n    const generated = await generarLote(lev, cat, count + overshoot);\r\n\r\n    // Dejar 50/50 en el batch final\r\n    const wantMultiple = Math.floor(count / 2);\r\n    const wantMatching = count - wantMultiple;\r\n\r\n    const multiples = [];\r\n    const matchings = [];\r\n    const seen = new Set();\r\n\r\n    const pushIfNew = (q) => {\r\n      const norm = normalizeQuestion(q, lev, cat);\r\n      const h = makeHash(norm);\r\n      if (existingHashes.has(h) || seen.has(h)) return false;\r\n      seen.add(h);\r\n      if (norm.type === 'multiple') multiples.push(norm);\r\n      else if (norm.type === 'matching') matchings.push(norm);\r\n      return true;\r\n    };\r\n\r\n    for (const q of generated) pushIfNew(q);\r\n\r\n    const pickMultiples = multiples.slice(0, wantMultiple);\r\n    const pickMatchings = matchings.slice(0, wantMatching);\r\n\r\n    let batch = [...pickMultiples, ...pickMatchings];\r\n\r\n    // Si falta de alg칰n tipo, rellenar con el otro manteniendo dedupe\r\n    if (batch.length < count) {\r\n      const deficit = count - batch.length;\r\n      const leftovers = [\r\n        ...multiples.slice(pickMultiples.length),\r\n        ...matchings.slice(pickMatchings.length),\r\n      ];\r\n      for (const q of leftovers) {\r\n        if (batch.length >= count) break;\r\n        // ya est치 normalizado; makeHash coherente\r\n        const h = makeHash(q);\r\n        if (!existingHashes.has(h) && !batch.some(b => makeHash(b) === h)) {\r\n          batch.push(q);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!batch.length) {\r\n      Toast.show({ type: 'info', text1: 'No se generaron nuevas preguntas (posibles duplicados)' });\r\n      return [];\r\n    }\r\n\r\n    await upsertQuestionsToDB(cat, lev, batch);\r\n    Toast.show({ type: 'success', text1: `Guardadas ${batch.length} preguntas` });\r\n    return batch.map(q => ({ ...q, _idHash: makeHash(q) }));\r\n  }, [user?.isAdmin]);\r\n\r\n  /** ================== VIDAS / XP ================== **/\r\n  const recomputeLives = useCallback(async (srcUser = user) => {\r\n    const u = srcUser || user;\r\n    if (!u?.id) return;\r\n    const p = u.progress || {};\r\n    let { lives = DEFAULT_LIVES, livesMax = DEFAULT_LIVES, lifeRecoveryMinutes = DEFAULT_RECOVERY_MIN, lastLifeTs = Date.now() } = p;\r\n    if (lives >= livesMax) return;\r\n    const perMs = (lifeRecoveryMinutes || DEFAULT_RECOVERY_MIN) * 60 * 1000;\r\n    const now = Date.now();\r\n    const elapsed = now - (lastLifeTs || now);\r\n    const recovered = Math.floor(elapsed / perMs);\r\n    if (recovered > 0) {\r\n      const newLives = Math.min(livesMax, lives + recovered);\r\n      const remainder = elapsed % perMs;\r\n      const newLastTs = now - remainder;\r\n      await update(ref(db, `users/${u.id}/progress`), { lives: newLives, lastLifeTs: newLastTs });\r\n      setUser((old) => ({ ...old, progress: { ...(old?.progress || {}), lives: newLives, lastLifeTs: newLastTs } }));\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const id = setInterval(recomputeLives, 60_000);\r\n    return () => clearInterval(id);\r\n  }, [recomputeLives]);\r\n\r\n  const spendLife = useCallback(async () => {\r\n    if (!user?.id) return false;\r\n    const p = user.progress || {};\r\n    if ((p.lives ?? 0) <= 0) return false;\r\n    const lives = (p.lives ?? 0) - 1;\r\n    const ts = Date.now();\r\n    await update(ref(db, `users/${user.id}/progress`), { lives, lastLifeTs: ts });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), lives, lastLifeTs: ts } }));\r\n    return true;\r\n  }, [user]);\r\n\r\n  const giveLife = useCallback(async (n = 1) => {\r\n    if (!user?.id) return;\r\n    const p = user.progress || {};\r\n    const lives = Math.min((p.lives ?? 0) + n, p.livesMax ?? DEFAULT_LIVES);\r\n    await update(ref(db, `users/${user.id}/progress`), { lives });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), lives } }));\r\n  }, [user]);\r\n\r\n  const timeToNextLifeMs = useCallback(() => {\r\n    const p = user?.progress || {};\r\n    if ((p.lives ?? 0) >= (p.livesMax ?? DEFAULT_LIVES)) return 0;\r\n    const perMs = (p.lifeRecoveryMinutes ?? DEFAULT_RECOVERY_MIN) * 60 * 1000;\r\n    const elapsed = Date.now() - (p.lastLifeTs ?? Date.now());\r\n    const left = perMs - (elapsed % perMs);\r\n    return Math.max(left, 0);\r\n  }, [user]);\r\n\r\n  const payXP = useCallback(async (cost) => {\r\n    if (!user?.id) return false;\r\n    const xp = user?.progress?.xp ?? 0;\r\n    if (xp < cost) {\r\n      Toast.show({ type: 'error', text1: 'XP insuficiente', text2: `Necesitas ${cost} XP` });\r\n      return false;\r\n    }\r\n    const newXP = xp - cost;\r\n    await update(ref(db, `users/${user.id}/progress`), { xp: newXP });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), xp: newXP } }));\r\n    return true;\r\n  }, [user]);\r\n\r\n  const buyLifeWithXP = useCallback(async (cost = 50) => {\r\n    if (!user?.id) return;\r\n    const p = user.progress || {};\r\n    if (p.lives >= p.livesMax) {\r\n      Toast.show({ type: 'info', text1: 'Ya est치s al m치ximo' });\r\n      return;\r\n    }\r\n    const ok = await payXP(cost);\r\n    if (!ok) return;\r\n    await giveLife(1);\r\n    Toast.show({ type: 'success', text1: '춰Vida recargada!' });\r\n  }, [user, payXP, giveLife]);\r\n\r\n  const upgradeLivesMax = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const current = user?.progress?.livesMax ?? DEFAULT_LIVES;\r\n    if (current >= MAX_LIVES_CAP) {\r\n      Toast.show({ type: 'info', text1: 'M치ximo alcanzado', text2: `Ya tienes ${MAX_LIVES_CAP} vidas m치ximas` });\r\n      return;\r\n    }\r\n    const cost = 150 + (current - DEFAULT_LIVES) * 50;\r\n    const ok = await payXP(cost);\r\n    if (!ok) return;\r\n    const livesMax = Math.min(MAX_LIVES_CAP, current + 1);\r\n    await update(ref(db, `users/${user.id}/progress`), { livesMax });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), livesMax } }));\r\n    Toast.show({ type: 'success', text1: 'Mejora aplicada', text2: `Vidas m치ximas: ${livesMax}` });\r\n  }, [user, payXP]);\r\n\r\n  const reduceRecoveryTime = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const current = user?.progress?.lifeRecoveryMinutes ?? DEFAULT_RECOVERY_MIN;\r\n    if (current <= MIN_RECOVERY_MIN) {\r\n      Toast.show({ type: 'info', text1: 'M칤nimo alcanzado', text2: `${MIN_RECOVERY_MIN} min por vida` });\r\n      return;\r\n    }\r\n    const step = current > 60 ? 30 : 15;\r\n    const cost = current > 60 ? 200 : 300;\r\n    const ok = await payXP(cost);\r\n    if (!ok) return;\r\n    const lifeRecoveryMinutes = Math.max(MIN_RECOVERY_MIN, current - step);\r\n    await update(ref(db, `users/${user.id}/progress`), { lifeRecoveryMinutes });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), lifeRecoveryMinutes } }));\r\n    Toast.show({ type: 'success', text1: 'Mejora aplicada', text2: `Nueva recuperaci칩n: ${lifeRecoveryMinutes} min` });\r\n  }, [user, payXP]);\r\n\r\n  const upgradeAttempts = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const current = user?.progress?.maxAttemptsPerQuestion ?? DEFAULT_ATTEMPTS;\r\n    if (current >= MAX_ATTEMPTS_CAP) {\r\n      Toast.show({ type: 'info', text1: 'M치ximo alcanzado', text2: `Intentos: ${current}` });\r\n      return;\r\n    }\r\n    const cost = 250;\r\n    const ok = await payXP(cost);\r\n    if (!ok) return;\r\n    const maxAttemptsPerQuestion = Math.min(MAX_ATTEMPTS_CAP, current + 1);\r\n    await update(ref(db, `users/${user.id}/progress`), { maxAttemptsPerQuestion });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), maxAttemptsPerQuestion } }));\r\n    Toast.show({ type: 'success', text1: 'Mejora aplicada', text2: `Intentos por pregunta: ${maxAttemptsPerQuestion}` });\r\n  }, [user, payXP]);\r\n\r\n  /** ================== PROGRESO ================== **/\r\n  const ensureDailyStreak = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const today = todayYMD();\r\n    const last = user?.progress?.lastSessionDate;\r\n    if (last === today) return;\r\n    let nextStreak = 1;\r\n    if (last) {\r\n      const diff = (new Date(today + 'T00:00:00') - new Date(last + 'T00:00:00')) / 86400000;\r\n      nextStreak = diff === 1 ? (user.progress.currentStreak || 0) + 1 : 1;\r\n    }\r\n    const best = Math.max(user?.progress?.bestStreak || 0, nextStreak);\r\n    const patch = { lastSessionDate: today, currentStreak: nextStreak, bestStreak: best };\r\n    await update(ref(db, `users/${user.id}/progress`), patch);\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), ...patch } }));\r\n  }, [user]);\r\n\r\n  const addXP = useCallback(async (delta) => {\r\n    if (!user?.id) return;\r\n    const newXP = (user?.progress?.xp || 0) + Number(delta || 0);\r\n    const chests = Math.floor(newXP / 100);\r\n    await update(ref(db, `users/${user?.id}/progress`), { xp: newXP, chests });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), xp: newXP, chests } }));\r\n  }, [user]);\r\n\r\n  const registerCorrect = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const totalCorrect = (user?.progress?.totalCorrect || 0) + 1;\r\n    await update(ref(db, `users/${user.id}/progress`), { totalCorrect });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), totalCorrect } }));\r\n  }, [user]);\r\n\r\n  const registerWrong = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const totalWrong = (user?.progress?.totalWrong || 0) + 1;\r\n    await update(ref(db, `users/${user.id}/progress`), { totalWrong });\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), totalWrong } }));\r\n  }, [user]);\r\n\r\n  const completeDailyGoalIfNeeded = useCallback(async () => {\r\n    if (!user?.id) return;\r\n    const today = todayYMD();\r\n    if (user?.progress?.dailyChallengeCompletedDate === today) return;\r\n    let nextStreak = 1;\r\n    const last = user?.progress?.lastSessionDate;\r\n    if (last) {\r\n      const diff = (new Date(today + 'T00:00:00') - new Date(last + 'T00:00:00')) / 86400000;\r\n      nextStreak = diff === 1 ? (user.progress.currentStreak || 0) + 1 : 1;\r\n    }\r\n    const best = Math.max(user?.progress?.bestStreak || 0, nextStreak);\r\n    const patch = { lastSessionDate: today, dailyChallengeCompletedDate: today, currentStreak: nextStreak, bestStreak: best };\r\n    await update(ref(db, `users/${user.id}/progress`), patch);\r\n    setUser((u) => ({ ...u, progress: { ...(u?.progress || {}), ...patch } }));\r\n  }, [user]);\r\n\r\n  const isDailyChallengeDoneToday = useCallback(() => {\r\n    const today = todayYMD();\r\n    return user?.progress?.dailyChallengeCompletedDate === today;\r\n  }, [user]);\r\n\r\n  const openProfileModal = useCallback(() => setProfileModalVisible(true), []);\r\n  const closeProfileModal = useCallback(() => setProfileModalVisible(false), []);\r\n\r\n  /** ================== VALUE ================== **/\r\n  const value = useMemo(() => ({\r\n    user,\r\n    signIn, signUp, signOut,\r\n\r\n    // ADMIN / PREGUNTAS\r\n    createQuestionsBatch,   // genera LOTE por IA y guarda\r\n    getBatchQuestions,      // trae lote aleatorio desde BD\r\n\r\n    // Compat: mantenemos estos m칠todos y estado\r\n    questionPool,\r\n    addToPool,\r\n    getNextQuestion,        // ahora consume 1 de pool o 1 de BD (sin generar individuales)\r\n    generateAndStore,       // wrapper: si no hay stock en BD, solo admin genera un lote peque침o\r\n\r\n    // preferencias\r\n    highContrast, reduceMotion, preloadNext,\r\n    setHighContrast, setReduceMotion, setPreloadNext, toggleHighContrast,\r\n\r\n    // vidas / cron칩metro / compras\r\n    spendLife, giveLife, recomputeLives, timeToNextLifeMs,\r\n    buyLifeWithXP, upgradeLivesMax, reduceRecoveryTime, upgradeAttempts,\r\n\r\n    // progreso\r\n    ensureDailyStreak, addXP, registerCorrect, registerWrong,\r\n    completeDailyGoalIfNeeded, isDailyChallengeDoneToday,\r\n\r\n    // UI perfil\r\n    openProfileModal, closeProfileModal, profileModalVisible,\r\n  }), [\r\n    user,\r\n    signIn, signUp, signOut,\r\n    createQuestionsBatch, getBatchQuestions,\r\n\r\n    questionPool, addToPool, getNextQuestion, generateAndStore,\r\n\r\n    highContrast, reduceMotion, preloadNext,\r\n    setHighContrast, setReduceMotion, setPreloadNext, toggleHighContrast,\r\n\r\n    spendLife, giveLife, recomputeLives, timeToNextLifeMs,\r\n    buyLifeWithXP, upgradeLivesMax, reduceRecoveryTime, upgradeAttempts,\r\n\r\n    ensureDailyStreak, addXP, registerCorrect, registerWrong,\r\n    completeDailyGoalIfNeeded, isDailyChallengeDoneToday,\r\n\r\n    openProfileModal, closeProfileModal, profileModalVisible,\r\n  ]);\r\n\r\n  return (\r\n    <AppContext.Provider value={value}>\r\n      {children}\r\n      <Toast />\r\n    </AppContext.Provider>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "AppProvider",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "tz",
          "kind": "const"
        },
        {
          "name": "todayYMD",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "now",
          "kind": "const"
        },
        {
          "name": "fmt",
          "kind": "const"
        },
        {
          "name": "parts",
          "kind": "const"
        },
        {
          "invoked": "reduce"
        },
        {
          "invoked": "formatToParts"
        },
        {
          "name": "K_HC",
          "kind": "const"
        },
        {
          "name": "K_RM",
          "kind": "const"
        },
        {
          "name": "K_PL",
          "kind": "const"
        },
        {
          "name": "DEFAULT_LIVES",
          "kind": "const"
        },
        {
          "name": "MAX_LIVES_CAP",
          "kind": "const"
        },
        {
          "name": "DEFAULT_RECOVERY_MIN",
          "kind": "const"
        },
        {
          "name": "MIN_RECOVERY_MIN",
          "kind": "const"
        },
        {
          "name": "DEFAULT_ATTEMPTS",
          "kind": "const"
        },
        {
          "name": "MAX_ATTEMPTS_CAP",
          "kind": "const"
        },
        {
          "name": "POOL_CAP",
          "kind": "const"
        },
        {
          "name": "POOL_MIN",
          "kind": "const"
        },
        {
          "name": "asArray",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "normalizeQuestion",
          "kind": "const",
          "isFunction": true,
          "params": [
            "AssignmentPattern",
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "type",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "makeHash",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "invoked": "stringify"
        },
        {
          "name": "h",
          "kind": "let"
        },
        {
          "name": "i",
          "kind": "let"
        },
        {
          "invoked": "charCodeAt"
        },
        {
          "invoked": "now"
        },
        {
          "name": "AppContext",
          "kind": "const"
        },
        {
          "invoked": "createContext"
        },
        {
          "name": "user,setUser",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "profileModalVisible,setProfileModalVisible",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "highContrast,_setHighContrast",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "reduceMotion,_setReduceMotion",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "preloadNext,_setPreloadNext",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "questionPool,setQuestionPool",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "hc,rm,pl",
          "kind": "destructured"
        },
        {
          "invoked": "all"
        },
        {
          "invoked": "getItem"
        },
        {
          "invoked": "getItem"
        },
        {
          "invoked": "getItem"
        },
        {
          "name": "signUp",
          "kind": "const"
        },
        {
          "name": "auth",
          "kind": "const"
        },
        {
          "name": "preferences",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "highContrast",
            "reduceMotion",
            "preloadNext"
          ]
        },
        {
          "name": "progress",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "xp",
            "currentStreak",
            "bestStreak",
            "lastSessionDate",
            "totalCorrect",
            "totalWrong",
            "chests",
            "lives",
            "livesMax",
            "lifeRecoveryMinutes",
            "lastLifeTs",
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "invoked": "now"
        },
        {
          "invoked": "show"
        },
        {
          "name": "signIn",
          "kind": "const"
        },
        {
          "name": "auth",
          "kind": "const"
        },
        {
          "name": "snap",
          "kind": "const"
        },
        {
          "name": "info",
          "kind": "const"
        },
        {
          "invoked": "val"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "progress",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "lives",
            "livesMax",
            "lifeRecoveryMinutes",
            "lastLifeTs",
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "invoked": "now"
        },
        {
          "name": "pr",
          "kind": "const"
        },
        {
          "invoked": "multiSet"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "show"
        },
        {
          "name": "signOut",
          "kind": "const"
        },
        {
          "name": "patchPreferencesRemote",
          "kind": "const"
        },
        {
          "name": "setHighContrast",
          "kind": "const"
        },
        {
          "invoked": "setItem"
        },
        {
          "name": "setReduceMotion",
          "kind": "const"
        },
        {
          "invoked": "setItem"
        },
        {
          "name": "setPreloadNext",
          "kind": "const"
        },
        {
          "invoked": "setItem"
        },
        {
          "name": "toggleHighContrast",
          "kind": "const"
        },
        {
          "name": "persistPool",
          "kind": "const"
        },
        {
          "name": "trimmed",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "addToPool",
          "kind": "const"
        },
        {
          "name": "enriched",
          "kind": "const"
        },
        {
          "name": "_idHash",
          "kind": "const"
        },
        {
          "invoked": "some"
        },
        {
          "name": "next",
          "kind": "const"
        },
        {
          "invoked": "catch"
        },
        {
          "name": "upsertQuestionsToDB",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier",
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "patch",
          "kind": "const",
          "isObject": true,
          "objectKeys": []
        },
        {
          "name": "q",
          "kind": "const"
        },
        {
          "name": "norm",
          "kind": "const"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "name": "fetchRandomFromDB",
          "kind": "const",
          "isFunction": true,
          "params": [
            "ObjectPattern"
          ]
        },
        {
          "name": "cat",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "lev",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "snap",
          "kind": "const"
        },
        {
          "name": "data",
          "kind": "const"
        },
        {
          "invoked": "val"
        },
        {
          "name": "bucket",
          "kind": "const"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "keys"
        },
        {
          "name": "norm",
          "kind": "const"
        },
        {
          "name": "i",
          "kind": "let"
        },
        {
          "name": "j",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "invoked": "random"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "generateAndStore",
          "kind": "const"
        },
        {
          "name": "picked",
          "kind": "let"
        },
        {
          "name": "idx",
          "kind": "const"
        },
        {
          "invoked": "findIndex"
        },
        {
          "name": "rest",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "catch"
        },
        {
          "name": "fromDB",
          "kind": "const"
        },
        {
          "name": "generated",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "show"
        },
        {
          "name": "again",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "getNextQuestion",
          "kind": "const"
        },
        {
          "name": "picked",
          "kind": "let"
        },
        {
          "name": "idx",
          "kind": "const"
        },
        {
          "invoked": "findIndex"
        },
        {
          "name": "rest",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "catch"
        },
        {
          "invoked": "catch"
        },
        {
          "invoked": "then"
        },
        {
          "name": "fromDB",
          "kind": "const"
        },
        {
          "name": "getBatchQuestions",
          "kind": "const"
        },
        {
          "name": "lev",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "bucket",
          "kind": "let"
        },
        {
          "name": "rawCat",
          "kind": "const"
        },
        {
          "name": "cat",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "snap",
          "kind": "const"
        },
        {
          "name": "data",
          "kind": "const"
        },
        {
          "invoked": "val"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "keys"
        },
        {
          "name": "norm",
          "kind": "const"
        },
        {
          "invoked": "push"
        },
        {
          "name": "shuffle",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "i",
          "kind": "let"
        },
        {
          "name": "j",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "invoked": "random"
        },
        {
          "name": "mult",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "name": "match",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "name": "wantMult",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "wantMatch",
          "kind": "const"
        },
        {
          "name": "pickMult",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "pickMatch",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "out",
          "kind": "let"
        },
        {
          "name": "deficit",
          "kind": "const"
        },
        {
          "name": "leftovers",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "createQuestionsBatch",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "cat",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "lev",
          "kind": "const"
        },
        {
          "invoked": "toLowerCase"
        },
        {
          "name": "existingSnap",
          "kind": "const"
        },
        {
          "name": "existingMap",
          "kind": "const"
        },
        {
          "invoked": "val"
        },
        {
          "name": "existingHashes",
          "kind": "const"
        },
        {
          "invoked": "keys"
        },
        {
          "name": "overshoot",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "ceil"
        },
        {
          "name": "generated",
          "kind": "const"
        },
        {
          "name": "wantMultiple",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "wantMatching",
          "kind": "const"
        },
        {
          "name": "multiples",
          "kind": "const"
        },
        {
          "name": "matchings",
          "kind": "const"
        },
        {
          "name": "seen",
          "kind": "const"
        },
        {
          "name": "pushIfNew",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "norm",
          "kind": "const"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "has"
        },
        {
          "invoked": "has"
        },
        {
          "invoked": "add"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "name": "q",
          "kind": "const"
        },
        {
          "name": "pickMultiples",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "pickMatchings",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "batch",
          "kind": "let"
        },
        {
          "name": "deficit",
          "kind": "const"
        },
        {
          "name": "leftovers",
          "kind": "const"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "q",
          "kind": "const"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "has"
        },
        {
          "invoked": "some"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "show"
        },
        {
          "invoked": "show"
        },
        {
          "invoked": "map"
        },
        {
          "name": "recomputeLives",
          "kind": "const"
        },
        {
          "name": "u",
          "kind": "const"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "invoked": "now"
        },
        {
          "name": "perMs",
          "kind": "const"
        },
        {
          "name": "now",
          "kind": "const"
        },
        {
          "invoked": "now"
        },
        {
          "name": "elapsed",
          "kind": "const"
        },
        {
          "name": "recovered",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "newLives",
          "kind": "const"
        },
        {
          "invoked": "min"
        },
        {
          "name": "remainder",
          "kind": "const"
        },
        {
          "name": "newLastTs",
          "kind": "const"
        },
        {
          "name": "id",
          "kind": "const"
        },
        {
          "name": "spendLife",
          "kind": "const"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "lives",
          "kind": "const"
        },
        {
          "name": "ts",
          "kind": "const"
        },
        {
          "invoked": "now"
        },
        {
          "name": "giveLife",
          "kind": "const"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "lives",
          "kind": "const"
        },
        {
          "invoked": "min"
        },
        {
          "name": "timeToNextLifeMs",
          "kind": "const"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "perMs",
          "kind": "const"
        },
        {
          "name": "elapsed",
          "kind": "const"
        },
        {
          "invoked": "now"
        },
        {
          "invoked": "now"
        },
        {
          "name": "left",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "name": "payXP",
          "kind": "const"
        },
        {
          "name": "xp",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "newXP",
          "kind": "const"
        },
        {
          "name": "buyLifeWithXP",
          "kind": "const"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "upgradeLivesMax",
          "kind": "const"
        },
        {
          "name": "current",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "cost",
          "kind": "const"
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "name": "livesMax",
          "kind": "const"
        },
        {
          "invoked": "min"
        },
        {
          "invoked": "show"
        },
        {
          "name": "reduceRecoveryTime",
          "kind": "const"
        },
        {
          "name": "current",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "step",
          "kind": "const"
        },
        {
          "name": "cost",
          "kind": "const"
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "name": "lifeRecoveryMinutes",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "show"
        },
        {
          "name": "upgradeAttempts",
          "kind": "const"
        },
        {
          "name": "current",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "name": "cost",
          "kind": "const"
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "name": "maxAttemptsPerQuestion",
          "kind": "const"
        },
        {
          "invoked": "min"
        },
        {
          "invoked": "show"
        },
        {
          "name": "ensureDailyStreak",
          "kind": "const"
        },
        {
          "name": "today",
          "kind": "const"
        },
        {
          "name": "last",
          "kind": "const"
        },
        {
          "name": "nextStreak",
          "kind": "let"
        },
        {
          "name": "diff",
          "kind": "const"
        },
        {
          "name": "best",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "name": "patch",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "lastSessionDate",
            "currentStreak",
            "bestStreak"
          ]
        },
        {
          "name": "addXP",
          "kind": "const"
        },
        {
          "name": "newXP",
          "kind": "const"
        },
        {
          "name": "chests",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "registerCorrect",
          "kind": "const"
        },
        {
          "name": "totalCorrect",
          "kind": "const"
        },
        {
          "name": "registerWrong",
          "kind": "const"
        },
        {
          "name": "totalWrong",
          "kind": "const"
        },
        {
          "name": "completeDailyGoalIfNeeded",
          "kind": "const"
        },
        {
          "name": "today",
          "kind": "const"
        },
        {
          "name": "nextStreak",
          "kind": "let"
        },
        {
          "name": "last",
          "kind": "const"
        },
        {
          "name": "diff",
          "kind": "const"
        },
        {
          "name": "best",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "name": "patch",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "lastSessionDate",
            "dailyChallengeCompletedDate",
            "currentStreak",
            "bestStreak"
          ]
        },
        {
          "name": "isDailyChallengeDoneToday",
          "kind": "const"
        },
        {
          "name": "today",
          "kind": "const"
        },
        {
          "name": "openProfileModal",
          "kind": "const"
        },
        {
          "name": "closeProfileModal",
          "kind": "const"
        },
        {
          "name": "value",
          "kind": "const"
        }
      ],
      "components": [
        {
          "name": "AppProvider",
          "jsx": true
        },
        {
          "name": "AppProvider",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "user",
          "setUser",
          "profileModalVisible",
          "setProfileModalVisible",
          "highContrast",
          "_setHighContrast",
          "reduceMotion",
          "_setReduceMotion",
          "preloadNext",
          "_setPreloadNext",
          "questionPool",
          "setQuestionPool"
        ],
        "useContext": [],
        "useEffect": [
          "useEffect",
          "useEffect"
        ]
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "timeZone",
            "year",
            "month",
            "day"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "level",
            "category",
            "question",
            "options",
            "left",
            "right",
            "pairs",
            "answer",
            "explanation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "cat",
            "lev",
            "q",
            "a",
            "o"
          ]
        },
        {
          "name": "preferences",
          "keys": [
            "highContrast",
            "reduceMotion",
            "preloadNext"
          ]
        },
        {
          "name": "progress",
          "keys": [
            "xp",
            "currentStreak",
            "bestStreak",
            "lastSessionDate",
            "totalCorrect",
            "totalWrong",
            "chests",
            "lives",
            "livesMax",
            "lifeRecoveryMinutes",
            "lastLifeTs",
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "id",
            "fullName",
            "documentId",
            "course",
            "email",
            "isAdmin",
            "preferences",
            "progress",
            "questionPool"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fullName",
            "documentId",
            "course",
            "email",
            "isAdmin",
            "preferences",
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "progress",
          "keys": [
            "lives",
            "livesMax",
            "lifeRecoveryMinutes",
            "lastLifeTs",
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "isAdmin",
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "preferences"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "highContrast"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "reduceMotion"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "preloadNext"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "questionPool"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "_idHash"
          ]
        },
        {
          "name": "patch",
          "keys": []
        },
        {
          "name": "(anon)",
          "keys": [
            "_idHash"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "category",
            "count"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "category",
            "count"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "category",
            "count"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "category",
            "count"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "category"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "_idHash"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "_idHash"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives",
            "lastLifeTs"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives",
            "lastLifeTs"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives",
            "lastLifeTs"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives",
            "lastLifeTs"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lives"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "xp"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "xp"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "livesMax"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "livesMax"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lifeRecoveryMinutes"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "lifeRecoveryMinutes"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "maxAttemptsPerQuestion"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "patch",
          "keys": [
            "lastSessionDate",
            "currentStreak",
            "bestStreak"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "xp",
            "chests"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "xp",
            "chests"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "totalCorrect"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "totalCorrect"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "totalWrong"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "totalWrong"
          ]
        },
        {
          "name": "patch",
          "keys": [
            "lastSessionDate",
            "dailyChallengeCompletedDate",
            "currentStreak",
            "bestStreak"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "progress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "user",
            "signIn",
            "signUp",
            "signOut",
            "createQuestionsBatch",
            "getBatchQuestions",
            "questionPool",
            "addToPool",
            "getNextQuestion",
            "generateAndStore",
            "highContrast",
            "reduceMotion",
            "preloadNext",
            "setHighContrast",
            "setReduceMotion",
            "setPreloadNext",
            "toggleHighContrast",
            "spendLife",
            "giveLife",
            "recomputeLives",
            "timeToNextLifeMs",
            "buyLifeWithXP",
            "upgradeLivesMax",
            "reduceRecoveryTime",
            "upgradeAttempts",
            "ensureDailyStreak",
            "addXP",
            "registerCorrect",
            "registerWrong",
            "completeDailyGoalIfNeeded",
            "isDailyChallengeDoneToday",
            "openProfileModal",
            "closeProfileModal",
            "profileModalVisible"
          ]
        }
      ],
      "firebasePaths": [
        "signOut",
        "loginUser",
        "registerUser",
        "db",
        "firebase",
        "set",
        "update",
        "ref"
      ],
      "stringKeys": [
        "react",
        "firebase/database",
        "react-native-toast-message",
        "America/Bogota",
        "es-CO",
        "numeric",
        "2-digit",
        "pref:highContrast",
        "pref:reduceMotion",
        "pref:preloadNext",
        "matching",
        "emparejamiento",
        "multiple",
        "error",
        "Error",
        "questions/${category}/${level}",
        "questions/${cat}/${lev}",
        "success",
        "info",
        "fracciones",
        "algebra",
        "ecuaciones",
        "T00:00:00"
      ]
    },
    "extract-project-full.js": {
      "path": "extract-project-full.js",
      "imports": [],
      "exports": [],
      "functions": [
        {
          "name": "safeParse",
          "params": [
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "findFirebaseStrings",
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "extractStringKeys",
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "analyzeFile",
          "params": [
            "Identifier",
            "Identifier"
          ]
        }
      ],
      "variables": [
        {
          "name": "fs",
          "kind": "const"
        },
        {
          "name": "path",
          "kind": "const"
        },
        {
          "name": "glob",
          "kind": "const"
        },
        {
          "name": "babelParser",
          "kind": "const"
        },
        {
          "name": "traverse",
          "kind": "const"
        },
        {
          "name": "arg",
          "kind": "const"
        },
        {
          "name": "projectRoot",
          "kind": "const"
        },
        {
          "invoked": "resolve"
        },
        {
          "name": "outFile",
          "kind": "const"
        },
        {
          "invoked": "join"
        },
        {
          "invoked": "log"
        },
        {
          "invoked": "existsSync"
        },
        {
          "invoked": "error"
        },
        {
          "invoked": "exit"
        },
        {
          "invoked": "parse"
        },
        {
          "invoked": "warn"
        },
        {
          "name": "matches",
          "kind": "const"
        },
        {
          "name": "pathRegex",
          "kind": "const"
        },
        {
          "name": "m",
          "kind": "let"
        },
        {
          "invoked": "exec"
        },
        {
          "invoked": "push"
        },
        {
          "name": "keywords",
          "kind": "const"
        },
        {
          "name": "kw",
          "kind": "const"
        },
        {
          "invoked": "includes"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "from"
        },
        {
          "name": "regex",
          "kind": "const"
        },
        {
          "name": "keys",
          "kind": "const"
        },
        {
          "name": "m",
          "kind": "let"
        },
        {
          "invoked": "exec"
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "invoked": "add"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "from"
        },
        {
          "name": "content",
          "kind": "const"
        },
        {
          "invoked": "readFileSync"
        },
        {
          "name": "res",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "path",
            "imports",
            "exports",
            "functions",
            "variables",
            "components",
            "hooks",
            "objects",
            "firebasePaths",
            "stringKeys"
          ]
        },
        {
          "name": "ast",
          "kind": "const"
        },
        {
          "invoked": "forEach"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "n",
          "kind": "const"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "forEach"
        },
        {
          "name": "v",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "name",
            "kind"
          ]
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "filter"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "push"
        },
        {
          "name": "names",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "invoked": "map"
        },
        {
          "name": "callName",
          "kind": "const"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "join"
        },
        {
          "name": "node",
          "kind": "const"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "invoked": "includes"
        },
        {
          "invoked": "includes"
        },
        {
          "invoked": "includes"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "name": "parentFn",
          "kind": "const"
        },
        {
          "invoked": "getFunctionParent"
        },
        {
          "invoked": "push"
        },
        {
          "name": "parentVar",
          "kind": "const"
        },
        {
          "invoked": "findParent"
        },
        {
          "invoked": "push"
        },
        {
          "name": "parent",
          "kind": "const"
        },
        {
          "name": "keys",
          "kind": "const"
        },
        {
          "invoked": "filter"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "push"
        },
        {
          "invoked": "from"
        },
        {
          "invoked": "concat"
        },
        {
          "name": "patterns",
          "kind": "const"
        },
        {
          "name": "ignore",
          "kind": "const"
        },
        {
          "name": "allFiles",
          "kind": "let"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "found",
          "kind": "const"
        },
        {
          "invoked": "sync"
        },
        {
          "invoked": "log"
        },
        {
          "invoked": "concat"
        },
        {
          "invoked": "sort"
        },
        {
          "invoked": "from"
        },
        {
          "invoked": "log"
        },
        {
          "name": "output",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "generatedAt",
            "root",
            "files"
          ]
        },
        {
          "invoked": "toISOString"
        },
        {
          "invoked": "forEach"
        },
        {
          "name": "abs",
          "kind": "const"
        },
        {
          "invoked": "join"
        },
        {
          "name": "info",
          "kind": "const"
        },
        {
          "invoked": "error"
        },
        {
          "invoked": "writeFileSync"
        },
        {
          "invoked": "stringify"
        },
        {
          "invoked": "log"
        },
        {
          "invoked": "log"
        },
        {
          "invoked": "keys"
        },
        {
          "invoked": "keys"
        },
        {
          "invoked": "log"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "keys"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "sourceType",
            "plugins"
          ]
        },
        {
          "name": "res",
          "keys": [
            "path",
            "imports",
            "exports",
            "functions",
            "variables",
            "components",
            "hooks",
            "objects",
            "firebasePaths",
            "stringKeys"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "useState",
            "useContext",
            "useEffect"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "raw",
            "source",
            "specifiers"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "local",
            "imported"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "raw",
            "declarationType"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "FunctionDeclaration",
            "VariableDeclaration",
            "CallExpression",
            "JSXElement",
            "ObjectExpression"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "params"
          ]
        },
        {
          "name": "v",
          "keys": [
            "name",
            "kind"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "kind",
            "initCall"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "invoked"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "jsx"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "jsx"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "keys"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "name",
            "keys"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "cwd",
            "ignore",
            "nodir"
          ]
        },
        {
          "name": "output",
          "keys": [
            "generatedAt",
            "root",
            "files"
          ]
        }
      ],
      "firebasePaths": [
        "/users",
        "/questions",
        "{uid}",
        ",",
        "];\r\n  for (const kw of keywords) if (code.includes(kw)) matches.push(kw);\r\n  return Array.from(new Set(matches));\r\n}\r\nfunction extractStringKeys(code) {\r\n  const regex = /[",
        "useEffect",
        "signInWithEmailAndPassword",
        "createUserWithEmailAndPassword",
        "signOut",
        "loginUser",
        "registerUser",
        "db",
        "firebase",
        "getDatabase",
        "initializeApp",
        "set",
        "update",
        "ref"
      ],
      "stringKeys": [
        "fs",
        "path",
        "glob",
        "module",
        "jsx",
        "classProperties",
        "objectRestSpread",
        "optionalChaining",
        "nullishCoalescingOperator",
        "dynamicImport",
        "decorators-legacy",
        "typescript",
        "signInWithEmailAndPassword",
        "createUserWithEmailAndPassword",
        "signOut",
        "loginUser",
        "registerUser",
        "db",
        "firebase",
        "getDatabase",
        "initializeApp",
        "set",
        "update",
        "ref",
        "utf8",
        "ImportDeclaration",
        "ImportDefaultSpecifier",
        "default",
        "ExportNamedDeclaration",
        "ExportDefaultDeclaration",
        "named",
        "Identifier",
        "ArrowFunctionExpression",
        "ObjectExpression",
        "ArrayPattern",
        "CallExpression",
        "useState",
        "useContext",
        "destructured",
        "useEffect",
        "context",
        "StringLiteral",
        "/users",
        "/questions",
        "{uid}",
        "MemberExpression",
        "VariableDeclarator",
        "WROTE:"
      ]
    },
    "firebase\\firebaseConfig.js": {
      "path": "firebase\\firebaseConfig.js",
      "imports": [
        {
          "raw": "import { initializeApp, getApps, getApp } from 'firebase/app';",
          "source": "firebase/app",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "initializeApp",
              "imported": "initializeApp"
            },
            {
              "type": "ImportSpecifier",
              "local": "getApps",
              "imported": "getApps"
            },
            {
              "type": "ImportSpecifier",
              "local": "getApp",
              "imported": "getApp"
            }
          ]
        },
        {
          "raw": "import { getDatabase } from 'firebase/database';",
          "source": "firebase/database",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "getDatabase",
              "imported": "getDatabase"
            }
          ]
        },
        {
          "raw": "import { initializeAuth, getReactNativePersistence, getAuth } from 'firebase/auth';",
          "source": "firebase/auth",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "initializeAuth",
              "imported": "initializeAuth"
            },
            {
              "type": "ImportSpecifier",
              "local": "getReactNativePersistence",
              "imported": "getReactNativePersistence"
            },
            {
              "type": "ImportSpecifier",
              "local": "getAuth",
              "imported": "getAuth"
            }
          ]
        },
        {
          "raw": "import AsyncStorage from '@react-native-async-storage/async-storage';",
          "source": "@react-native-async-storage/async-storage",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "AsyncStorage",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "named",
          "raw": "export async function loginUser(email, password) {\r\n  // Import din치mico para evitar issues de tree-shaking en Metro\r\n  const { signInWithEmailAndPassword } = await import('firebase/auth');\r\n  const { user } = await signInWithEmailAndPassword(auth, email, password);\r\n  return { uid: user.uid, email: user.email };\r\n}",
          "declarationType": "FunctionDeclaration"
        },
        {
          "type": "named",
          "raw": "export async function registerUser(email, password) {\r\n  const { createUserWithEmailAndPassword } = await import('firebase/auth');\r\n  const { user } = await createUserWithEmailAndPassword(auth, email, password);\r\n  return { uid: user.uid, email: user.email };\r\n}",
          "declarationType": "FunctionDeclaration"
        },
        {
          "type": "named",
          "raw": "export { app, db, auth };",
          "declarationType": null
        }
      ],
      "functions": [
        {
          "name": "loginUser",
          "params": [
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "registerUser",
          "params": [
            "Identifier",
            "Identifier"
          ]
        }
      ],
      "variables": [
        {
          "name": "firebaseConfig",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "apiKey",
            "authDomain",
            "databaseURL",
            "projectId",
            "storageBucket",
            "messagingSenderId",
            "appId"
          ]
        },
        {
          "name": "app",
          "kind": "const"
        },
        {
          "name": "db",
          "kind": "const"
        },
        {
          "name": "auth",
          "kind": "let"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "firebaseConfig",
          "keys": [
            "apiKey",
            "authDomain",
            "databaseURL",
            "projectId",
            "storageBucket",
            "messagingSenderId",
            "appId"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "persistence"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "uid",
            "email"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "uid",
            "email"
          ]
        }
      ],
      "firebasePaths": [
        "signInWithEmailAndPassword",
        "createUserWithEmailAndPassword",
        "loginUser",
        "registerUser",
        "db",
        "firebase",
        "getDatabase",
        "initializeApp",
        "ref"
      ],
      "stringKeys": [
        "firebase/app",
        "firebase/database",
        "firebase/auth",
        "AIzaSyD7DRb6kog1BhTDgp_WX7Qewkgg14eQeTA",
        "aplicativo-62171",
        "195455809564",
        "1:195455809564:web:c8d62136da91d7498dc7d9"
      ]
    },
    "functions\\index.js": {
      "path": "functions\\index.js",
      "imports": [],
      "exports": [],
      "functions": [],
      "variables": [
        {
          "name": "functions",
          "kind": "const"
        },
        {
          "name": "cors",
          "kind": "const"
        },
        {
          "name": "corsHandler",
          "kind": "const"
        },
        {
          "name": "OPENAI_API_KEY",
          "kind": "const"
        },
        {
          "invoked": "onRequest"
        },
        {
          "invoked": "region"
        },
        {
          "invoked": "set"
        },
        {
          "invoked": "set"
        },
        {
          "invoked": "set"
        },
        {
          "invoked": "send"
        },
        {
          "invoked": "status"
        },
        {
          "invoked": "send"
        },
        {
          "invoked": "status"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "send"
        },
        {
          "invoked": "status"
        },
        {
          "name": "fetch",
          "kind": "const"
        },
        {
          "name": "r",
          "kind": "const"
        },
        {
          "invoked": "stringify"
        },
        {
          "name": "data",
          "kind": "const"
        },
        {
          "invoked": "json"
        },
        {
          "invoked": "set"
        },
        {
          "invoked": "send"
        },
        {
          "invoked": "status"
        },
        {
          "invoked": "error"
        },
        {
          "invoked": "send"
        },
        {
          "invoked": "status"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "origin"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "error"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "error"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "method",
            "headers",
            "body"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "Authorization",
            "Content-Type"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "model",
            "temperature",
            "messages"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "error"
          ]
        }
      ],
      "firebasePaths": [
        "Access-Control-Allow-Origin",
        "Access-Control-Allow-Methods",
        "Access-Control-Allow-Headers",
        ");\n        }\n\n        const { messages, model = ",
        "firebase",
        "set"
      ],
      "stringKeys": [
        "firebase-functions",
        "cors",
        "TU_API_KEY_AQUI",
        "us-central1",
        "OPTIONS",
        "Access-Control-Allow-Origin",
        "Access-Control-Allow-Methods",
        "Access-Control-Allow-Headers",
        "Content-Type",
        "POST",
        "gpt-4o-mini",
        "node-fetch",
        "Authorization",
        "application/json"
      ]
    },
    "index.js": {
      "path": "index.js",
      "imports": [
        {
          "raw": "import { registerRootComponent } from 'expo';",
          "source": "expo",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "registerRootComponent",
              "imported": "registerRootComponent"
            }
          ]
        },
        {
          "raw": "import App from './App';",
          "source": "./App",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "App",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [],
      "functions": [],
      "variables": [],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [],
      "firebasePaths": [],
      "stringKeys": [
        "expo"
      ]
    },
    "navigation\\AuthStack.js": {
      "path": "navigation\\AuthStack.js",
      "imports": [
        {
          "raw": "import React from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { createStackNavigator } from '@react-navigation/stack';",
          "source": "@react-navigation/stack",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "createStackNavigator",
              "imported": "createStackNavigator"
            }
          ]
        },
        {
          "raw": "import LoginScreen from '../screens/LoginScreen';",
          "source": "../screens/LoginScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "LoginScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import RegisterScreen from '../screens/RegisterScreen';",
          "source": "../screens/RegisterScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "RegisterScreen",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function AuthStackScreen() {\r\n  return (\r\n    <AuthStack.Navigator\r\n      initialRouteName=\"Login\"\r\n      screenOptions={{\r\n        presentation: 'modal',\r\n        headerStyle: { backgroundColor: '#0D1B2A' },\r\n        headerTintColor: '#fff',\r\n      }}\r\n    >\r\n      <AuthStack.Screen name=\"Login\" component={LoginScreen} options={{ headerShown: false }} />\r\n      <AuthStack.Screen name=\"Register\" component={RegisterScreen} options={{ headerShown: false }} />\r\n    </AuthStack.Navigator>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "AuthStackScreen",
          "params": []
        }
      ],
      "variables": [
        {
          "name": "AuthStack",
          "kind": "const"
        }
      ],
      "components": [
        {
          "name": "AuthStackScreen",
          "jsx": true
        },
        {
          "name": "AuthStackScreen",
          "jsx": true
        },
        {
          "name": "AuthStackScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "presentation",
            "headerStyle",
            "headerTintColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerShown"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerShown"
          ]
        }
      ],
      "firebasePaths": [],
      "stringKeys": [
        "react",
        "Login",
        "modal",
        "Register"
      ]
    },
    "navigation\\HomeStack.js": {
      "path": "navigation\\HomeStack.js",
      "imports": [
        {
          "raw": "import React from \"react\";",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { createStackNavigator } from \"@react-navigation/stack\";",
          "source": "@react-navigation/stack",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "createStackNavigator",
              "imported": "createStackNavigator"
            }
          ]
        },
        {
          "raw": "import HomeScreen from \"../screens/HomeScreen\";",
          "source": "../screens/HomeScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "HomeScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import ExerciseScreen from \"../screens/ExerciseScreen\";",
          "source": "../screens/ExerciseScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "ExerciseScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import TimeAttackScreen from '../screens/TimeAttackScreen';",
          "source": "../screens/TimeAttackScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "TimeAttackScreen",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function HomeStackScreen() {\r\n  return (\r\n    <HomeStack.Navigator>\r\n      <HomeStack.Screen\r\n        name=\"Inicio\"\r\n        component={HomeScreen}\r\n        options={{ headerTitleAlign: \"center\" }}\r\n      />\r\n      <HomeStack.Screen\r\n        name=\"ExerciseScreen\"\r\n        component={ExerciseScreen}\r\n        options={{ headerTitle: \"Ejercicios\" }}\r\n      />\r\n      <HomeStack.Screen\r\n        name=\"TimeAttackScreen\"\r\n        component={TimeAttackScreen}\r\n        options={{ title: 'Contrarreloj' }}\r\n      />\r\n    </HomeStack.Navigator>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "HomeStackScreen",
          "params": []
        }
      ],
      "variables": [
        {
          "name": "HomeStack",
          "kind": "const"
        }
      ],
      "components": [
        {
          "name": "HomeStackScreen",
          "jsx": true
        },
        {
          "name": "HomeStackScreen",
          "jsx": true
        },
        {
          "name": "HomeStackScreen",
          "jsx": true
        },
        {
          "name": "HomeStackScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "headerTitleAlign"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerTitle"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "title"
          ]
        }
      ],
      "firebasePaths": [],
      "stringKeys": [
        "react",
        "Inicio",
        "center",
        "ExerciseScreen",
        "Ejercicios",
        "TimeAttackScreen",
        "Contrarreloj"
      ]
    },
    "navigation\\TabNavigator.js": {
      "path": "navigation\\TabNavigator.js",
      "imports": [
        {
          "raw": "import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';",
          "source": "@react-navigation/bottom-tabs",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "createBottomTabNavigator",
              "imported": "createBottomTabNavigator"
            }
          ]
        },
        {
          "raw": "import HomeStackScreen from './HomeStack';",
          "source": "./HomeStack",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "HomeStackScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import ProfileScreen from '../screens/ProfileScreen';",
          "source": "../screens/ProfileScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "ProfileScreen",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { Text } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            }
          ]
        },
        {
          "raw": "import React, { useContext } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import AdminQuestionsScreen from '../screens/AdminQuestionsScreen';",
          "source": "../screens/AdminQuestionsScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "AdminQuestionsScreen",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function TabNavigator() {\r\n  const { user } = useContext(AppContext);\r\n  const isAdmin = !!user?.isAdmin;\r\n\r\n  return (\r\n    <Tab.Navigator\r\n      screenOptions={{\r\n        tabBarStyle: {\r\n          backgroundColor: \"#1E3A8A\",\r\n          borderTopLeftRadius: 16,\r\n          borderTopRightRadius: 16,\r\n          height: 70,\r\n          position: \"absolute\",\r\n          shadowColor: \"#000\",\r\n          shadowOpacity: 0.1,\r\n          shadowOffset: { width: 0, height: -2 },\r\n          shadowRadius: 8,\r\n          elevation: 6,\r\n        },\r\n        tabBarActiveTintColor: \"#fff\",\r\n        tabBarInactiveTintColor: \"#cbd5e1\",\r\n        tabBarLabelStyle: { fontSize: 13, fontWeight: \"600\" },\r\n      }}\r\n    >\r\n      <Tab.Screen\r\n        name=\"InicioTab\"\r\n        component={HomeStackScreen}\r\n        options={{\r\n          tabBarLabel: \"Inicio\",\r\n          tabBarIcon: ({ color, size }) => <Text style={{ color, fontSize: size }}>游</Text>,\r\n          headerShown: false,\r\n        }}\r\n      />\r\n      {isAdmin && (\r\n        <Tab.Screen\r\n          name=\"Preguntas\"\r\n          component={AdminQuestionsScreen}\r\n          options={{\r\n            tabBarLabel: \"Preguntas\",\r\n            tabBarIcon: ({ color, size }) => <Text style={{ color, fontSize: size }}>游빌</Text>,\r\n            headerShown: true,\r\n            title: 'Gesti칩n de preguntas',\r\n          }}\r\n        />\r\n      )}\r\n      <Tab.Screen\r\n        name=\"Perfil\"\r\n        component={ProfileScreen}\r\n        options={{\r\n          tabBarLabel: \"Perfil\",\r\n          tabBarIcon: ({ color, size }) => <Text style={{ color, fontSize: size }}>游녻</Text>,\r\n          headerShown: false,\r\n        }}\r\n      />\r\n    </Tab.Navigator>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "TabNavigator",
          "params": []
        }
      ],
      "variables": [
        {
          "name": "Tab",
          "kind": "const"
        },
        {
          "name": "isAdmin",
          "kind": "const"
        }
      ],
      "components": [
        {
          "name": "TabNavigator",
          "jsx": true
        },
        {
          "name": "TabNavigator",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "TabNavigator",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "TabNavigator",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [],
        "useContext": [
          "AppContext"
        ],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "tabBarStyle",
            "tabBarActiveTintColor",
            "tabBarInactiveTintColor",
            "tabBarLabelStyle"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderTopLeftRadius",
            "borderTopRightRadius",
            "height",
            "position",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "tabBarLabel",
            "tabBarIcon",
            "headerShown"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "tabBarLabel",
            "tabBarIcon",
            "headerShown",
            "title"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "tabBarLabel",
            "tabBarIcon",
            "headerShown"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react-native",
        "react",
        "absolute",
        "600",
        "InicioTab",
        "Inicio",
        "Preguntas",
        "Perfil"
      ]
    },
    "screens\\AdminQuestionsScreen.js": {
      "path": "screens\\AdminQuestionsScreen.js",
      "imports": [
        {
          "raw": "import React, { useState, useContext } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            }
          ]
        },
        {
          "raw": "import { View, Text, TouchableOpacity, TextInput, ScrollView } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "TouchableOpacity",
              "imported": "TouchableOpacity"
            },
            {
              "type": "ImportSpecifier",
              "local": "TextInput",
              "imported": "TextInput"
            },
            {
              "type": "ImportSpecifier",
              "local": "ScrollView",
              "imported": "ScrollView"
            }
          ]
        },
        {
          "raw": "import Toast from 'react-native-toast-message';",
          "source": "react-native-toast-message",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "Toast",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function AdminQuestionsScreen() {\r\n  const { user, createQuestionsBatch } = useContext(AppContext);\r\n  const [category, setCategory] = useState(CATS[0].value);\r\n  const [level, setLevel] = useState(LEVELS[0].value);\r\n  const [count, setCount] = useState('20');\r\n  const [busy, setBusy] = useState(false);\r\n\r\n  const onCreate = async () => {\r\n    if (!user?.isAdmin) {\r\n      Toast.show({ type: 'error', text1: 'No autorizado' });\r\n      return;\r\n    }\r\n    const n = Math.max(1, Math.min(200, parseInt(count || '0', 10)));\r\n    setBusy(true);\r\n    const res = await createQuestionsBatch({ category, level, count: n });\r\n    setBusy(false);\r\n    Toast.show({\r\n      type: 'success',\r\n      text1: '춰Listo!',\r\n      text2: `Se guardaron ${res.length} preguntas nuevas.`,\r\n    });\r\n  };\r\n\r\n  if (!user?.isAdmin) {\r\n    return (\r\n      <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', padding: 24 }}>\r\n        <Text>No autorizado</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={{ padding: 16, gap: 16 }}>\r\n      <Text style={{ fontSize: 22, fontWeight: '700' }}>Generar y guardar preguntas</Text>\r\n\r\n      <Text style={{ fontSize: 16, marginTop: 8 }}>Categor칤a</Text>\r\n      <View style={{ flexDirection: 'row', gap: 8, flexWrap: 'wrap', marginTop: 8 }}>\r\n        {CATS.map(c => (\r\n          <TouchableOpacity\r\n            key={c.value}\r\n            onPress={() => setCategory(c.value)}\r\n            style={{\r\n              paddingVertical: 10,\r\n              paddingHorizontal: 14,\r\n              borderRadius: 12,\r\n              backgroundColor: category === c.value ? '#1E3A8A' : '#e2e8f0',\r\n            }}\r\n          >\r\n            <Text style={{ color: category === c.value ? 'white' : '#0f172a', fontWeight: '600' }}>\r\n              {c.label}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n\r\n      <Text style={{ fontSize: 16, marginTop: 8 }}>Nivel</Text>\r\n      <View style={{ flexDirection: 'row', gap: 8, flexWrap: 'wrap', marginTop: 8 }}>\r\n        {LEVELS.map(l => (\r\n          <TouchableOpacity\r\n            key={l.value}\r\n            onPress={() => setLevel(l.value)}\r\n            style={{\r\n              paddingVertical: 10,\r\n              paddingHorizontal: 14,\r\n              borderRadius: 12,\r\n              backgroundColor: level === l.value ? '#1E3A8A' : '#e2e8f0',\r\n            }}\r\n          >\r\n            <Text style={{ color: level === l.value ? 'white' : '#0f172a', fontWeight: '600' }}>\r\n              {l.label}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n\r\n      <Text style={{ fontSize: 16, marginTop: 8 }}>Cantidad</Text>\r\n      <TextInput\r\n        keyboardType=\"number-pad\"\r\n        value={count}\r\n        onChangeText={setCount}\r\n        placeholder=\"p. ej., 50\"\r\n        style={{ borderWidth: 1, borderColor: '#cbd5e1', borderRadius: 12, padding: 12, fontSize: 16 }}\r\n      />\r\n\r\n      <TouchableOpacity\r\n        onPress={onCreate}\r\n        disabled={busy}\r\n        style={{\r\n          backgroundColor: busy ? '#64748b' : '#22c55e',\r\n          padding: 14,\r\n          borderRadius: 12,\r\n          marginTop: 12,\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Text style={{ color: 'white', fontWeight: '700', fontSize: 16 }}>\r\n          {busy ? 'Generando' : 'Generar y guardar'}\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </ScrollView>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "AdminQuestionsScreen",
          "params": []
        }
      ],
      "variables": [
        {
          "name": "CATS",
          "kind": "const"
        },
        {
          "name": "LEVELS",
          "kind": "const"
        },
        {
          "name": "category,setCategory",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "level,setLevel",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "count,setCount",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "busy,setBusy",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "onCreate",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "show"
        },
        {
          "name": "n",
          "kind": "const"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "min"
        },
        {
          "name": "res",
          "kind": "const"
        },
        {
          "invoked": "show"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "map"
        }
      ],
      "components": [
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        },
        {
          "name": "AdminQuestionsScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "category",
          "setCategory",
          "level",
          "setLevel",
          "count",
          "setCount",
          "busy",
          "setBusy"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "value",
            "label"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "category",
            "level",
            "count"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "alignItems",
            "justifyContent",
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "padding",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "gap",
            "flexWrap",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "gap",
            "flexWrap",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderWidth",
            "borderColor",
            "borderRadius",
            "padding",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "padding",
            "borderRadius",
            "marginTop",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "react-native-toast-message",
        "fracciones",
        "Fracciones",
        "algebra",
        "ecuaciones",
        "Ecuaciones",
        "facil",
        "medio",
        "Medio",
        "dificil",
        "20",
        "error",
        "success",
        "center",
        "700",
        "row",
        "wrap",
        "white",
        "600",
        "number-pad"
      ]
    },
    "screens\\ExerciseScreen.js": {
      "path": "screens\\ExerciseScreen.js",
      "imports": [
        {
          "raw": "import React, { useEffect, useState, useCallback, useLayoutEffect, useContext, useRef } from \"react\";",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useEffect",
              "imported": "useEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            },
            {
              "type": "ImportSpecifier",
              "local": "useCallback",
              "imported": "useCallback"
            },
            {
              "type": "ImportSpecifier",
              "local": "useLayoutEffect",
              "imported": "useLayoutEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useRef",
              "imported": "useRef"
            }
          ]
        },
        {
          "raw": "import { View, Text, Pressable, Alert, StyleSheet, ActivityIndicator, Animated, Easing, ScrollView, Modal, SafeAreaView } from \"react-native\";",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "Pressable",
              "imported": "Pressable"
            },
            {
              "type": "ImportSpecifier",
              "local": "Alert",
              "imported": "Alert"
            },
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            },
            {
              "type": "ImportSpecifier",
              "local": "ActivityIndicator",
              "imported": "ActivityIndicator"
            },
            {
              "type": "ImportSpecifier",
              "local": "Animated",
              "imported": "Animated"
            },
            {
              "type": "ImportSpecifier",
              "local": "Easing",
              "imported": "Easing"
            },
            {
              "type": "ImportSpecifier",
              "local": "ScrollView",
              "imported": "ScrollView"
            },
            {
              "type": "ImportSpecifier",
              "local": "Modal",
              "imported": "Modal"
            },
            {
              "type": "ImportSpecifier",
              "local": "SafeAreaView",
              "imported": "SafeAreaView"
            }
          ]
        },
        {
          "raw": "import { useFocusEffect } from \"@react-navigation/native\";",
          "source": "@react-navigation/native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "useFocusEffect",
              "imported": "useFocusEffect"
            }
          ]
        },
        {
          "raw": "import { LinearGradient } from \"expo-linear-gradient\";",
          "source": "expo-linear-gradient",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "LinearGradient",
              "imported": "LinearGradient"
            }
          ]
        },
        {
          "raw": "import { AppContext } from \"../contexts/AppContext\";",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import { normalizeQuestion, isMatchingWellFormed } from \"../utils/questions\";",
          "source": "../utils/questions",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "normalizeQuestion",
              "imported": "normalizeQuestion"
            },
            {
              "type": "ImportSpecifier",
              "local": "isMatchingWellFormed",
              "imported": "isMatchingWellFormed"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function ExerciseScreen({ route, navigation }) {\r\n  const { nivel='facil', colors: levelColors, category='fracciones' } = route.params ?? {};\r\n  const {\r\n    highContrast, reduceMotion, preloadNext,\r\n    addXP, registerCorrect, registerWrong, user, completeDailyGoalIfNeeded,\r\n    spendLife, timeToNextLifeMs, recomputeLives,\r\n    getBatchQuestions,\r\n  } = useContext(AppContext);\r\n\r\n  const lives = user?.progress?.lives ?? 0;\r\n  const livesMax = user?.progress?.livesMax ?? 5;\r\n  const maxAttempts = user?.progress?.maxAttemptsPerQuestion ?? 2;\r\n\r\n  const colors = highContrast ? [\"#FFFFFF\", \"#FFFFFF\"] :\r\n    (Array.isArray(levelColors) && levelColors.length >= 2 ? levelColors : [\"#eaf2ff\", \"#cfe1ff\"]);\r\n\r\n  const [questions, setQuestions] = useState([]);\r\n  const [qIndex, setQIndex] = useState(0);\r\n  const question = questions[qIndex] || null;\r\n\r\n  const [score, setScore] = useState(0);\r\n  const [selected, setSelected] = useState(null);\r\n  const [locked, setLocked] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n  const [attemptsLeft, setAttemptsLeft] = useState(maxAttempts);\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [levelCompleted, setLevelCompleted] = useState(false);\r\n  const [resultVisible, setResultVisible] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [triedWrong, setTriedWrong] = useState([]);\r\n\r\n  // matching state\r\n  const [mLeftSel, setMLeftSel] = useState(null);\r\n  const [mPairs, setMPairs] = useState([]);\r\n\r\n  // ticker\r\n  const [nowTick, setNowTick] = useState(0);\r\n  useEffect(() => {\r\n    const id = setInterval(() => setNowTick(t => t + 1), 1000);\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  // anims (transform  useNativeDriver: true 九)\r\n  const shakeAnim = useRef(new Animated.Value(0)).current;\r\n  const pulseAnim = useRef(new Animated.Value(1)).current;\r\n  const runShake = () => { if (reduceMotion) return;\r\n    shakeAnim.setValue(0);\r\n    Animated.sequence([\r\n      Animated.timing(shakeAnim, { toValue: 1, duration: 60, useNativeDriver: true, easing: Easing.linear }),\r\n      Animated.timing(shakeAnim, { toValue: -1, duration: 60, useNativeDriver: true, easing: Easing.linear }),\r\n      Animated.timing(shakeAnim, { toValue: 1, duration: 60, useNativeDriver: true, easing: Easing.linear }),\r\n      Animated.timing(shakeAnim, { toValue: 0, duration: 60, useNativeDriver: true, easing: Easing.linear }),\r\n    ]).start();\r\n  };\r\n  const runPulse = () => { if (reduceMotion) return;\r\n    pulseAnim.setValue(1);\r\n    Animated.sequence([\r\n      Animated.timing(pulseAnim, { toValue: 1.05, duration: 140, useNativeDriver: true }),\r\n      Animated.timing(pulseAnim, { toValue: 1, duration: 140, useNativeDriver: true }),\r\n    ]).start();\r\n  };\r\n\r\n  useFocusEffect(useCallback(() => {\r\n    const parent = navigation.getParent?.();\r\n    parent?.setOptions({ tabBarStyle: { display: \"none\" } });\r\n    return () => parent?.setOptions({ tabBarStyle: DEFAULT_TAB_STYLE });\r\n  }, [navigation]));\r\n\r\n  useLayoutEffect(() => {\r\n    const catLabel = CATEGORY_LABELS[category] ?? String(category).toUpperCase();\r\n    const levelLabel = nivel === \"facil\" ? \"F츼CIL\" : (LEVEL_LABELS[nivel]?.toUpperCase?.() ?? String(nivel).toUpperCase());\r\n    navigation.setOptions({\r\n      headerTitle: `${catLabel.toUpperCase()} 췅 ${levelLabel}`,\r\n      headerTitleStyle: { fontWeight: '800', fontSize: 18, color: '#fff', letterSpacing: 0.6 },\r\n      headerTintColor: '#fff',\r\n      headerBackground: () => highContrast\r\n        ? <View style={{ flex: 1, backgroundColor: \"#0B0B0B\" }} />\r\n        : <LinearGradient colors={colors} style={{ flex: 1 }} start={{ x: 0, y: 0 }} end={{ x: 1, y: 0 }} />,\r\n      headerShadowVisible: false,\r\n    });\r\n  }, [navigation, nivel, colors, highContrast, category]);\r\n\r\n  const resetQuestionState = useCallback(() => {\r\n    setSelected(null); setLocked(false); setResult(null);\r\n    setAttemptsLeft(user?.progress?.maxAttemptsPerQuestion ?? 2);\r\n    setResultVisible(false); setTriedWrong([]);\r\n    setMLeftSel(null); setMPairs([]);\r\n  }, [user?.progress?.maxAttemptsPerQuestion]);\r\n\r\n  const loadQuestionsFromDB = useCallback(async () => {\r\n    setLoading(true);\r\n    resetQuestionState();\r\n    try {\r\n      const list = await getBatchQuestions({ level: nivel, count: LOAD_COUNT, categories: [category] });\r\n      const normalized = (Array.isArray(list) ? list : []).map(q => normalizeQuestion(q, nivel, category));\r\n      setQuestions(normalized);\r\n      setQIndex(0);\r\n    } catch (e) {\r\n      Alert.alert(\"Error\", \"No se pudieron cargar las preguntas.\");\r\n      setQuestions([]); setQIndex(0);\r\n    } finally { setLoading(false); }\r\n  }, [getBatchQuestions, nivel, category, resetQuestionState]);\r\n\r\n  useEffect(() => { loadQuestionsFromDB(); }, [loadQuestionsFromDB]);\r\n\r\n  useEffect(() => {\r\n    if (lives <= 0 && !loading) {\r\n      const mins = Math.ceil(timeToNextLifeMs() / 60000);\r\n      Alert.alert(\"Sin vidas\", `Se recuperar치 una vida en aprox. ${mins} min.`, [{ text: \"OK\", onPress: () => navigation.goBack() }]);\r\n    }\r\n  }, [lives, loading, navigation, timeToNextLifeMs]);\r\n\r\n  const handleCorrect = () => {\r\n    setResult(\"correct\"); setLocked(true); setResultVisible(true); runPulse();\r\n    setScore((s) => s + XP_PER_CORRECT);\r\n    const streakBonus = user?.progress?.currentStreak > 0 ? XP_STREAK_BONUS : 0;\r\n    addXP(XP_PER_CORRECT + streakBonus); registerCorrect();\r\n    setCorrectCount((prev) => {\r\n      const next = prev + 1;\r\n      if (next >= LEVEL_TARGET) setTimeout(() => { setResultVisible(false); setLevelCompleted(true); }, reduceMotion ? 0 : 150);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const consumeAttemptOrLife = async () => {\r\n    setAttemptsLeft((prev) => prev - 1);\r\n    if (attemptsLeft - 1 <= 0) {\r\n      const ok = await spendLife();\r\n      await recomputeLives();\r\n      if (!ok) return;\r\n      setLocked(true);\r\n    }\r\n  };\r\n\r\n  const handleWrong = async () => {\r\n    setResult(\"wrong\"); setResultVisible(true); runShake();\r\n    registerWrong(); await consumeAttemptOrLife();\r\n  };\r\n\r\n  const checkAnswerMultiple = (option) => {\r\n    if (!question || locked || resultVisible) return;\r\n    setSelected(option);\r\n    option === question.answer ? handleCorrect() : handleWrong();\r\n  };\r\n\r\n  // matching\r\n  const toggleMatch = (iLeft, iRight) => {\r\n    const exists = mPairs.find(([L, R]) => L === iLeft || R === iRight);\r\n    if (exists) setMPairs((prev) => prev.filter(([L, R]) => L !== iLeft && R !== iRight).concat([[iLeft, iRight]]));\r\n    else setMPairs((prev) => prev.concat([[iLeft, iRight]]));\r\n  };\r\n  const onPressLeft = (i) => setMLeftSel(i === mLeftSel ? null : i);\r\n  const onPressRight = (j) => { if (mLeftSel !== null) { toggleMatch(mLeftSel, j); setMLeftSel(null); } };\r\n  const isRightUsed = (j) => mPairs.some(([,R]) => R === j);\r\n  const getRightOfLeft = (i) => (mPairs.find(([L]) => L === i) || [null,null])[1];\r\n\r\n  const checkMatching = () => {\r\n    if (!question || locked || resultVisible) return;\r\n    const expected = [...(question.pairs || [])].sort((a,b)=>a[0]-b[0]);\r\n    const given = [...mPairs].sort((a,b)=>a[0]-b[0]);\r\n    const ok = expected.length === given.length && expected.every(([L,R], k) => L === given[k][0] && R === given[k][1]);\r\n    ok ? handleCorrect() : handleWrong();\r\n  };\r\n\r\n  const onContinue = () => {\r\n    if (levelCompleted) return;\r\n    setResultVisible(false);\r\n    resetQuestionState();\r\n    if (qIndex + 1 < questions.length) setQIndex(qIndex + 1);\r\n    else loadQuestionsFromDB();\r\n  };\r\n\r\n  const finishLevel = async () => {\r\n    setLevelCompleted(false);\r\n    await completeDailyGoalIfNeeded();\r\n    Alert.alert(\"춰Nivel completado!\", \"Buen trabajo. Volver치s al men칰 del nivel.\");\r\n    navigation.goBack();\r\n  };\r\n\r\n  const Container = highContrast ? View : LinearGradient;\r\n  const containerProps = highContrast ? { style: styles.container } : { colors, style: styles.container };\r\n  const letters = [\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"];\r\n  const shake = shakeAnim.interpolate({ inputRange: [-1, 1], outputRange: [-6, 6] });\r\n  const canRetry = result === \"wrong\" && attemptsLeft > 0 && !locked;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container {...containerProps}>\r\n        <ActivityIndicator size=\"large\" />\r\n        <Text style={[styles.footer, { marginTop: 12, color: highContrast ? \"#111\" : \"#334155\" }]}>Cargando preguntas</Text>\r\n      </Container>\r\n    );\r\n  }\r\n  if (!question) {\r\n    const catLabel = CATEGORY_LABELS[category] ?? String(category);\r\n    const levelLabel = LEVEL_LABELS[nivel] ?? String(nivel);\r\n    return (\r\n      <Container {...containerProps}>\r\n        <SafeAreaView style={{ flex:1, alignItems:'center', justifyContent:'center', padding:20 }}>\r\n          <Text style={{ fontSize:18, fontWeight:'800', color: highContrast ? '#0B0B0B' : '#1E3A8A', textAlign:'center' }}>\r\n            No hay preguntas disponibles para 랕catLabel} 췅 {levelLabel}.\r\n          </Text>\r\n        </SafeAreaView>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const msLeft = timeToNextLifeMs() + (nowTick && 0);\r\n  const nextLifeStr = msLeft ? formatHMS(msLeft) : \"\";\r\n\r\n  const renderMultiple = () => (\r\n    <>\r\n      <Animated.View style={[\r\n        sx.questionCard, highContrast && sx.hcCard,\r\n        !reduceMotion && result===\"wrong\" && { transform: [{ translateX: shake }] },\r\n        !reduceMotion && result===\"correct\" && { transform: [{ scale: pulseAnim }] },\r\n      ]}>\r\n        <Text style={[styles.question, highContrast && { color: \"#0B0B0B\" }]}>{String(question.question)}</Text>\r\n      </Animated.View>\r\n\r\n      <View style={sx.optionsWrap}>\r\n        {(Array.isArray(question.options) ? question.options : []).map((opt, idx) => {\r\n          const state = (() => {\r\n            if (locked) {\r\n              if (opt === question.answer) return \"correct\";\r\n              if (opt === selected && result === \"wrong\") return \"wrong\";\r\n              return \"idle\";\r\n            }\r\n            if (triedWrong.includes(opt)) return \"disabled\";\r\n            return \"idle\";\r\n          })();\r\n          const disabled = locked || state === \"disabled\" || resultVisible;\r\n          return (\r\n            <Pressable\r\n              key={`${idx}-${opt}`}\r\n              accessibilityRole=\"button\"\r\n              accessibilityState={{ disabled }}\r\n              onPress={() => !disabled && checkAnswerMultiple(opt)}\r\n              style={({ pressed }) => [\r\n                styles.option,\r\n                state===\"correct\" && sx.optCorrect,\r\n                state===\"wrong\" && sx.optWrong,\r\n                state===\"disabled\" && sx.optDisabled,\r\n                highContrast && sx.hcOption,\r\n                pressed && !disabled && sx.optionPressed,\r\n              ]}\r\n            >\r\n              <Text style={[sx.optionBullet, highContrast && sx.hcBullet]}>{letters[idx] || \"묖"}</Text>\r\n              <Text style={[styles.optionText, highContrast && sx.hcOptionText]}>{String(opt)}</Text>\r\n            </Pressable>\r\n          );\r\n        })}\r\n      </View>\r\n    </>\r\n  );\r\n\r\n  const renderMatching = () => {\r\n    const left = Array.isArray(question.left) ? question.left : [];\r\n    const right = Array.isArray(question.right) ? question.right : [];\r\n    return (\r\n      <>\r\n        <View style={[sx.questionCard, highContrast && sx.hcCard]}>\r\n          <Text style={[styles.question, highContrast && { color: \"#0B0B0B\" }]}>{question.instructions || \"Empareja cada elemento con su correspondencia.\"}</Text>\r\n        </View>\r\n\r\n        <View style={sx.matchWrap}>\r\n          <View style={sx.col}>\r\n            {left.map((txt, i) => {\r\n              const pairedR = getRightOfLeft(i);\r\n              const active = mLeftSel === i;\r\n              return (\r\n                <Pressable key={`L${i}`} onPress={() => onPressLeft(i)} style={[sx.matchItem, active && sx.matchActive, highContrast && sx.hcCard]}>\r\n                  <Text style={[sx.matchText, highContrast && { color: \"#0B0B0B\" }]}>{String(txt)}</Text>\r\n                  {Number.isInteger(pairedR) && <Text style={sx.pairBadge}> {pairedR+1}</Text>}\r\n                </Pressable>\r\n              );\r\n            })}\r\n          </View>\r\n\r\n          <View style={sx.col}>\r\n            {right.map((txt, j) => {\r\n              const used = isRightUsed(j);\r\n              return (\r\n                <Pressable\r\n                  key={`R${j}`}\r\n                  onPress={() => onPressRight(j)}\r\n                  disabled={mLeftSel === null}\r\n                  style={[sx.matchItem, used && sx.matchUsed, mLeftSel===null && { opacity: 0.7 }, highContrast && sx.hcCard]}\r\n                >\r\n                  <Text style={[sx.matchText, highContrast && { color: \"#0B0B0B\" }]}>{String(txt)}</Text>\r\n                  {used && <Text style={sx.pairBadge}>九</Text>}\r\n                </Pressable>\r\n              );\r\n            })}\r\n          </View>\r\n        </View>\r\n\r\n        <View style={{ alignItems: 'center', marginTop: 8 }}>\r\n          <Pressable onPress={checkMatching} style={sx.checkBtn} disabled={locked || resultVisible || mPairs.length === 0}>\r\n            <Text style={sx.checkText}>Comprobar</Text>\r\n          </Pressable>\r\n          {mPairs.length > 0 && (\r\n            <Pressable onPress={() => { setMPairs([]); setMLeftSel(null); }} style={[sx.checkBtn, { backgroundColor:'#9CA3AF', marginTop:6 }]}>\r\n              <Text style={sx.checkText}>Reiniciar emparejamientos</Text>\r\n            </Pressable>\r\n          )}\r\n        </View>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container {...containerProps}>\r\n      <SafeAreaView style={{ flex: 1 }}>\r\n        <View style={sx.hudRow}>\r\n          <View style={[sx.chip, highContrast && sx.hcChip]}><Text style={[sx.chipText, highContrast && sx.hcChipText]}>救 Puntos: {score}</Text></View>\r\n          <View style={[sx.chip, highContrast && sx.hcChip]}><Text style={[sx.chipText, highContrast && sx.hcChipText]}>仇벒잺 Vidas: {lives}/{livesMax} {msLeft ? `( +1 en ${nextLifeStr})` : \"\"}</Text></View>\r\n          <View style={[sx.chip, highContrast && sx.hcChip]}><Text style={[sx.chipText, highContrast && sx.hcChipText]}>游대 Intentos: {attemptsLeft}/{maxAttempts}</Text></View>\r\n          <View style={[sx.chip, highContrast && sx.hcChip]}><Text style={[sx.chipText, highContrast && sx.hcChipText]}>游빌 Aciertos: {correctCount}/{LEVEL_TARGET}</Text></View>\r\n        </View>\r\n\r\n        <Text style={[styles.title, highContrast && { color: \"#0B0B0B\" }]}>{(LEVEL_LABELS[nivel] ?? String(nivel)).toUpperCase()}</Text>\r\n\r\n        <ScrollView style={{ flex: 1 }} contentContainerStyle={{ paddingBottom: 24 }} showsVerticalScrollIndicator={false} keyboardShouldPersistTaps=\"handled\">\r\n          {question.type === 'matching' && isMatchingWellFormed(question)\r\n            ? renderMatching()\r\n            : renderMultiple()}\r\n        </ScrollView>\r\n      </SafeAreaView>\r\n\r\n      <Modal visible={resultVisible && !levelCompleted} transparent animationType={reduceMotion ? \"none\" : \"slide\"} onRequestClose={() => setResultVisible(false)}>\r\n        <View style={sx.modalBackdrop}>\r\n          <View style={[sx.sheet, highContrast && sx.hcCard]}>\r\n            <View style={sx.sheetHeader} />\r\n            <Text style={[ sx.resultTitle, result===\"correct\" ? sx.resultOk : sx.resultBad, highContrast && (result===\"correct\" ? sx.hcOk : sx.hcBad) ]}>\r\n              {result===\"correct\" ? \"춰Correcto!\" : \"Respuesta incorrecta\"}\r\n            </Text>\r\n            {result===\"wrong\" && question.type===\"multiple\" && selected && (\r\n              <Text style={sx.resultText}>\r\n                Respuesta correcta: <Text style={sx.resultStrong}>{String(question.answer)}</Text>\r\n              </Text>\r\n            )}\r\n            {!!question.explanation && <Text style={sx.resultText}>Explicaci칩n: {String(question.explanation)}</Text>}\r\n            <Pressable onPress={canRetry ? () => setResultVisible(false) : onContinue} style={[sx.nextBtn, highContrast && sx.hcNextBtn]}>\r\n              <Text style={[sx.nextBtnText, highContrast && sx.hcNextBtnText]}>{canRetry ? \"Intentar de nuevo\" : \"Siguiente\"}</Text>\r\n            </Pressable>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {levelCompleted && (\r\n        <View style={sx.levelOverlay} pointerEvents=\"box-none\">\r\n          <View style={[sx.levelCard, highContrast && sx.hcCard]}>\r\n            <Text style={[sx.levelTitle, highContrast && { color: \"#0B0B0B\" }]}>춰Nivel completado! 游꿀</Text>\r\n            <Text style={[sx.levelText, highContrast && { color: \"#0B0B0B\" }]}>Aciertos: {correctCount}/{LEVEL_TARGET}</Text>\r\n            <Pressable onPress={finishLevel} style={[sx.finishBtn, highContrast && sx.hcNextBtn]}><Text style={[sx.finishBtnText, highContrast && sx.hcNextBtnText]}>Terminar</Text></Pressable>\r\n          </View>\r\n        </View>\r\n      )}\r\n    </Container>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "ExerciseScreen",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "XP_PER_CORRECT",
          "kind": "const"
        },
        {
          "name": "XP_STREAK_BONUS",
          "kind": "const"
        },
        {
          "name": "LEVEL_TARGET",
          "kind": "const"
        },
        {
          "name": "LOAD_COUNT",
          "kind": "const"
        },
        {
          "name": "DEFAULT_TAB_STYLE",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "backgroundColor",
            "borderTopLeftRadius",
            "borderTopRightRadius",
            "height",
            "position",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "CATEGORY_LABELS",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "fracciones",
            "algebra",
            "ecuaciones"
          ]
        },
        {
          "name": "LEVEL_LABELS",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "facil",
            "medio",
            "dificil"
          ]
        },
        {
          "name": "formatHMS",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "total",
          "kind": "const"
        },
        {
          "invoked": "ceil"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "m",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "name": "pad",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "padStart"
        },
        {
          "name": "lives",
          "kind": "const"
        },
        {
          "name": "livesMax",
          "kind": "const"
        },
        {
          "name": "maxAttempts",
          "kind": "const"
        },
        {
          "name": "colors",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "questions,setQuestions",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "qIndex,setQIndex",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "question",
          "kind": "const"
        },
        {
          "name": "score,setScore",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "selected,setSelected",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "locked,setLocked",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "result,setResult",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "attemptsLeft,setAttemptsLeft",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "correctCount,setCorrectCount",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "levelCompleted,setLevelCompleted",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "resultVisible,setResultVisible",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "loading,setLoading",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "triedWrong,setTriedWrong",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "mLeftSel,setMLeftSel",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "mPairs,setMPairs",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "nowTick,setNowTick",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "id",
          "kind": "const"
        },
        {
          "name": "shakeAnim",
          "kind": "const"
        },
        {
          "name": "pulseAnim",
          "kind": "const"
        },
        {
          "name": "runShake",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "setValue"
        },
        {
          "invoked": "start"
        },
        {
          "invoked": "sequence"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "name": "runPulse",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "setValue"
        },
        {
          "invoked": "start"
        },
        {
          "invoked": "sequence"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "name": "parent",
          "kind": "const"
        },
        {
          "name": "catLabel",
          "kind": "const"
        },
        {
          "invoked": "toUpperCase"
        },
        {
          "name": "levelLabel",
          "kind": "const"
        },
        {
          "invoked": "toUpperCase"
        },
        {
          "invoked": "setOptions"
        },
        {
          "invoked": "toUpperCase"
        },
        {
          "name": "resetQuestionState",
          "kind": "const"
        },
        {
          "name": "loadQuestionsFromDB",
          "kind": "const"
        },
        {
          "name": "list",
          "kind": "const"
        },
        {
          "name": "normalized",
          "kind": "const"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "alert"
        },
        {
          "name": "mins",
          "kind": "const"
        },
        {
          "invoked": "ceil"
        },
        {
          "invoked": "alert"
        },
        {
          "invoked": "goBack"
        },
        {
          "name": "handleCorrect",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "streakBonus",
          "kind": "const"
        },
        {
          "name": "next",
          "kind": "const"
        },
        {
          "name": "consumeAttemptOrLife",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "name": "handleWrong",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "checkAnswerMultiple",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "toggleMatch",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "exists",
          "kind": "const"
        },
        {
          "invoked": "find"
        },
        {
          "invoked": "concat"
        },
        {
          "invoked": "filter"
        },
        {
          "invoked": "concat"
        },
        {
          "name": "onPressLeft",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "onPressRight",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "isRightUsed",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "some"
        },
        {
          "name": "getRightOfLeft",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "find"
        },
        {
          "name": "checkMatching",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "expected",
          "kind": "const"
        },
        {
          "invoked": "sort"
        },
        {
          "name": "given",
          "kind": "const"
        },
        {
          "invoked": "sort"
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "invoked": "every"
        },
        {
          "name": "onContinue",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "finishLevel",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "alert"
        },
        {
          "invoked": "goBack"
        },
        {
          "name": "Container",
          "kind": "const"
        },
        {
          "name": "containerProps",
          "kind": "const"
        },
        {
          "name": "letters",
          "kind": "const"
        },
        {
          "name": "shake",
          "kind": "const"
        },
        {
          "invoked": "interpolate"
        },
        {
          "name": "canRetry",
          "kind": "const"
        },
        {
          "name": "catLabel",
          "kind": "const"
        },
        {
          "name": "levelLabel",
          "kind": "const"
        },
        {
          "name": "msLeft",
          "kind": "const"
        },
        {
          "name": "nextLifeStr",
          "kind": "const"
        },
        {
          "name": "renderMultiple",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "state",
          "kind": "const"
        },
        {
          "invoked": "includes"
        },
        {
          "name": "disabled",
          "kind": "const"
        },
        {
          "name": "renderMatching",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "left",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "right",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "map"
        },
        {
          "name": "pairedR",
          "kind": "const"
        },
        {
          "name": "active",
          "kind": "const"
        },
        {
          "invoked": "isInteger"
        },
        {
          "invoked": "map"
        },
        {
          "name": "used",
          "kind": "const"
        },
        {
          "invoked": "toUpperCase"
        },
        {
          "name": "styles",
          "kind": "const"
        },
        {
          "invoked": "create"
        },
        {
          "name": "sx",
          "kind": "const"
        },
        {
          "invoked": "create"
        }
      ],
      "components": [
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        },
        {
          "name": "ExerciseScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "questions",
          "setQuestions",
          "qIndex",
          "setQIndex",
          "score",
          "setScore",
          "selected",
          "setSelected",
          "locked",
          "setLocked",
          "result",
          "setResult",
          "attemptsLeft",
          "setAttemptsLeft",
          "correctCount",
          "setCorrectCount",
          "levelCompleted",
          "setLevelCompleted",
          "resultVisible",
          "setResultVisible",
          "loading",
          "setLoading",
          "triedWrong",
          "setTriedWrong",
          "mLeftSel",
          "setMLeftSel",
          "mPairs",
          "setMPairs",
          "nowTick",
          "setNowTick"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": [
          "useEffect",
          "useEffect",
          "useEffect"
        ]
      },
      "objects": [
        {
          "name": "DEFAULT_TAB_STYLE",
          "keys": [
            "backgroundColor",
            "borderTopLeftRadius",
            "borderTopRightRadius",
            "height",
            "position",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "CATEGORY_LABELS",
          "keys": [
            "fracciones",
            "algebra",
            "ecuaciones"
          ]
        },
        {
          "name": "LEVEL_LABELS",
          "keys": [
            "facil",
            "medio",
            "dificil"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver",
            "easing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver",
            "easing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver",
            "easing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver",
            "easing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "tabBarStyle"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "display"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "tabBarStyle"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerTitle",
            "headerTitleStyle",
            "headerTintColor",
            "headerBackground",
            "headerShadowVisible"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "fontSize",
            "color",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "count",
            "categories"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "text",
            "onPress"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "colors",
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "inputRange",
            "outputRange"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "alignItems",
            "justifyContent",
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color",
            "textAlign"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "transform"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "translateX"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "transform"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "scale"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "disabled"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "alignItems",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "paddingBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "container",
            "title",
            "question",
            "option",
            "optionText",
            "footer"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "justifyContent",
            "alignItems",
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "textAlign",
            "marginTop",
            "marginBottom",
            "color",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "textAlign",
            "color",
            "lineHeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "alignItems",
            "backgroundColor",
            "paddingVertical",
            "paddingHorizontal",
            "marginVertical",
            "borderRadius",
            "width",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "flexShrink"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "fontSize",
            "textAlign",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "hudRow",
            "chip",
            "chipText",
            "questionCard",
            "optionsWrap",
            "optionPressed",
            "optionBullet",
            "optCorrect",
            "optWrong",
            "optDisabled",
            "matchWrap",
            "col",
            "matchItem",
            "matchActive",
            "matchUsed",
            "matchText",
            "pairBadge",
            "modalBackdrop",
            "sheet",
            "sheetHeader",
            "resultTitle",
            "resultOk",
            "resultBad",
            "resultText",
            "resultStrong",
            "nextBtn",
            "nextBtnText",
            "levelOverlay",
            "levelCard",
            "levelTitle",
            "levelText",
            "finishBtn",
            "finishBtnText",
            "hcChip",
            "hcChipText",
            "hcCard",
            "hcOption",
            "hcOptionText",
            "hcBullet",
            "hcOk",
            "hcBad",
            "hcNextBtn",
            "hcNextBtnText",
            "checkBtn",
            "checkText"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "justifyContent",
            "gap",
            "marginBottom",
            "flexWrap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "alignSelf",
            "shadowColor",
            "shadowOpacity",
            "shadowRadius",
            "shadowOffset",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "padding",
            "marginBottom",
            "shadowColor",
            "shadowOpacity",
            "shadowRadius",
            "shadowOffset",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity",
            "transform"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "scale"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "marginRight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "marginBottom",
            "shadowColor",
            "shadowOpacity",
            "shadowRadius",
            "shadowOffset",
            "elevation",
            "flexDirection",
            "justifyContent",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderColor",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "flexShrink"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor",
            "justifyContent"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderTopLeftRadius",
            "borderTopRightRadius",
            "padding",
            "borderTopWidth",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height",
            "borderRadius",
            "backgroundColor",
            "alignSelf",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "color",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "backgroundColor",
            "paddingVertical",
            "borderRadius",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "position",
            "inset",
            "justifyContent",
            "alignItems",
            "padding",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "maxWidth",
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "padding",
            "alignItems",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "backgroundColor",
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "expo-linear-gradient",
        "absolute",
        "Fracciones",
        "Ecuaciones",
        "Medio",
        "00:00:00",
        "facil",
        "fracciones",
        "none",
        "800",
        "Error",
        "OK",
        "correct",
        "wrong",
        "large",
        "center",
        "idle",
        "disabled",
        "${idx}-${opt}",
        "button",
        "L${i}",
        "R${j}",
        "handled",
        "matching",
        "slide",
        "multiple",
        "Siguiente",
        "box-none",
        "flex-start",
        "stretch",
        "row",
        "space-between",
        "wrap",
        "700",
        "900",
        "flex-end"
      ]
    },
    "screens\\HomeScreen.js": {
      "path": "screens\\HomeScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useLayoutEffect, useMemo, useState, useRef, useEffect } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useLayoutEffect",
              "imported": "useLayoutEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useMemo",
              "imported": "useMemo"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            },
            {
              "type": "ImportSpecifier",
              "local": "useRef",
              "imported": "useRef"
            },
            {
              "type": "ImportSpecifier",
              "local": "useEffect",
              "imported": "useEffect"
            }
          ]
        },
        {
          "raw": "import { ScrollView, Text, Pressable, View, StyleSheet, Animated } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "ScrollView",
              "imported": "ScrollView"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "Pressable",
              "imported": "Pressable"
            },
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            },
            {
              "type": "ImportSpecifier",
              "local": "Animated",
              "imported": "Animated"
            }
          ]
        },
        {
          "raw": "import { LinearGradient } from 'expo-linear-gradient';",
          "source": "expo-linear-gradient",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "LinearGradient",
              "imported": "LinearGradient"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import styles from '../styles/styles';",
          "source": "../styles/styles",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "styles",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function HomeScreen({ navigation }) {\r\n  const { user, highContrast } = useContext(AppContext);\r\n  const [openCat, setOpenCat] = useState(null);\r\n\r\n  const { streak, todayDone } = useMemo(() => {\r\n    const p = user?.progress || {};\r\n    const today = getTodayYMD();\r\n    return { streak: Number(p.currentStreak || 0), todayDone: p.dailyChallengeCompletedDate === today };\r\n  }, [user]);\r\n\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerTitleStyle: { fontWeight: '800', fontSize: 20, color: '#fff', letterSpacing: 0.6 },\r\n      headerTintColor: '#fff',\r\n      headerBackground: () =>\r\n        highContrast\r\n          ? <View style={{ flex: 1, backgroundColor: '#0B0B0B' }} />\r\n          : <LinearGradient colors={['#1E3A8A', '#3B82F6']} style={{ flex: 1 }} start={{ x: 0, y: 0 }} end={{ x: 1, y: 0 }} />,\r\n      headerRight: () => (\r\n        <Pressable\r\n          onPress={() => navigation.navigate('Perfil')}\r\n          style={({ pressed }) => [\r\n            {\r\n              marginRight: 10,\r\n              backgroundColor: todayDone ? '#10B981' : '#F59E0B',\r\n              paddingVertical: 6, paddingHorizontal: 12, borderRadius: 999,\r\n              opacity: pressed ? 0.9 : 1,\r\n            },\r\n          ]}\r\n        >\r\n          <Text style={{ color: '#fff', fontWeight: '900' }}>游댠 {streak} {streak === 1 ? 'd칤a' : 'd칤as'}</Text>\r\n        </Pressable>\r\n      ),\r\n      headerShadowVisible: false,\r\n    });\r\n  }, [navigation, streak, todayDone, highContrast]);\r\n\r\n  const toggleCat = (key) => setOpenCat((prev) => (prev === key ? null : key));\r\n\r\n  const goToLevel = (nivel, colors, categoryKey) => {\r\n    navigation.navigate('ExerciseScreen', {\r\n      nivel, colors, category: categoryKey,\r\n      moduleTheme: CATEGORY_THEMES[categoryKey]?.gradient || colors,\r\n    });\r\n  };\r\n\r\n  const goToTimeAttack = () => {\r\n    navigation.navigate('TimeAttackScreen', {\r\n      nivel: 'medio',\r\n      totalMs: 2 * 60 * 1000,\r\n      target: 5,\r\n    });\r\n  };\r\n\r\n  const Container = highContrast ? View : LinearGradient;\r\n  const containerProps = highContrast\r\n    ? { style: { flex: 1, backgroundColor: '#F2F2F2' } }\r\n    : { colors: ['#E0F2FE', '#BFDBFE', '#93C5FD'], start: { x: 0, y: 0 }, end: { x: 1, y: 1 }, style: { flex: 1 } };\r\n\r\n  return (\r\n    <Container {...containerProps}>\r\n      <ScrollView contentContainerStyle={hs.scroll}>\r\n        <Text style={[styles.title, highContrast && { color: '#0B0B0B' }]}>Elige tu pr치ctica</Text>\r\n\r\n        {/* Modos */}\r\n        <Text style={[hs.sectionTitle, highContrast && { color: '#0B0B0B' }]}>Modos</Text>\r\n        <View style={{ width: '100%', gap: 12 }}>\r\n          <LinearGradient\r\n            colors={highContrast ? ['#FFFFFF','#F4F4F4'] : ['#34d399','#10b981']}\r\n            start={{x:0,y:0}} end={{x:1,y:1}}\r\n            style={{ borderRadius: 16 }}\r\n          >\r\n            <Pressable\r\n              onPress={goToTimeAttack}\r\n              style={({pressed})=>[hs.card, pressed && hs.cardPressed, { justifyContent:'space-between' }]}\r\n            >\r\n              <Text style={[hs.cardText, { color: highContrast ? '#0B0B0B' : '#052e16' }]}>A contrarreloj (2:00)</Text>\r\n              <Text style={[hs.cardEmoji, { fontSize: 20 }, highContrast && { color:'#0B0B0B' }]}>낌勇</Text>\r\n            </Pressable>\r\n          </LinearGradient>\r\n        </View>\r\n\r\n        {/* Categor칤as */}\r\n        <Text style={[hs.sectionTitle, { marginTop: 16 }, highContrast && { color: '#0B0B0B' }]}>Categor칤as</Text>\r\n        <View style={{ width: '100%', gap: 12 }}>\r\n          {Object.entries(CATEGORY_THEMES).map(([key, cfg]) => (\r\n            <CategoryBar\r\n              key={key}\r\n              categoryKey={key}\r\n              cfg={cfg}\r\n              open={openCat === key}\r\n              onToggle={() => toggleCat(key)}\r\n              onSelectLevel={(lvl) => {\r\n                const lvlCfg = LEVELS.find((l) => l.key === lvl);\r\n                if (lvlCfg) goToLevel(lvlCfg.key, lvlCfg.colors, key);\r\n              }}\r\n              highContrast={highContrast}\r\n            />\r\n          ))}\r\n        </View>\r\n      </ScrollView>\r\n    </Container>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "HomeScreen",
          "params": [
            "ObjectPattern"
          ]
        },
        {
          "name": "CategoryBar",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "CATEGORY_THEMES",
          "kind": "const",
          "isObject": true,
          "objectKeys": [
            "fracciones",
            "algebra",
            "ecuaciones"
          ]
        },
        {
          "name": "LEVELS",
          "kind": "const"
        },
        {
          "name": "CONTINUOUS_LEVEL_GRADIENT",
          "kind": "const"
        },
        {
          "name": "getTodayYMD",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "tz",
          "kind": "const"
        },
        {
          "name": "now",
          "kind": "const"
        },
        {
          "name": "fmt",
          "kind": "const"
        },
        {
          "name": "parts",
          "kind": "const"
        },
        {
          "invoked": "reduce"
        },
        {
          "invoked": "formatToParts"
        },
        {
          "name": "openCat,setOpenCat",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "today",
          "kind": "const"
        },
        {
          "invoked": "setOptions"
        },
        {
          "invoked": "navigate"
        },
        {
          "name": "toggleCat",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "goToLevel",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier",
            "Identifier",
            "Identifier"
          ]
        },
        {
          "invoked": "navigate"
        },
        {
          "name": "goToTimeAttack",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "navigate"
        },
        {
          "name": "Container",
          "kind": "const"
        },
        {
          "name": "containerProps",
          "kind": "const"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "entries"
        },
        {
          "name": "lvlCfg",
          "kind": "const"
        },
        {
          "invoked": "find"
        },
        {
          "name": "heightAnim",
          "kind": "const"
        },
        {
          "name": "opacityAnim",
          "kind": "const"
        },
        {
          "name": "rotateAnim",
          "kind": "const"
        },
        {
          "name": "contentH,setContentH",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "measuredRef",
          "kind": "const"
        },
        {
          "name": "LevelsContent",
          "kind": "const",
          "isFunction": true,
          "params": [
            "ObjectPattern"
          ]
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "map"
        },
        {
          "name": "dur",
          "kind": "const"
        },
        {
          "invoked": "start"
        },
        {
          "invoked": "parallel"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "invoked": "timing"
        },
        {
          "name": "arrowRotate",
          "kind": "const"
        },
        {
          "invoked": "interpolate"
        },
        {
          "name": "BarBG",
          "kind": "const"
        },
        {
          "name": "barProps",
          "kind": "const"
        },
        {
          "name": "hs",
          "kind": "const"
        },
        {
          "invoked": "create"
        }
      ],
      "components": [
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "HomeScreen",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        },
        {
          "name": "CategoryBar",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "openCat",
          "setOpenCat",
          "contentH",
          "setContentH"
        ],
        "useContext": [
          "AppContext",
          "AppContext"
        ],
        "useEffect": [
          "useEffect"
        ]
      },
      "objects": [
        {
          "name": "CATEGORY_THEMES",
          "keys": [
            "fracciones",
            "algebra",
            "ecuaciones"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "label",
            "emoji",
            "gradient"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "label",
            "emoji",
            "gradient"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "label",
            "emoji",
            "gradient"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "label",
            "stars",
            "colors"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "label",
            "stars",
            "colors"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "label",
            "stars",
            "colors"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "timeZone",
            "year",
            "month",
            "day"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "streak",
            "todayDone"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerTitleStyle",
            "headerTintColor",
            "headerBackground",
            "headerRight",
            "headerShadowVisible"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "fontSize",
            "color",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginRight",
            "backgroundColor",
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius",
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "nivel",
            "colors",
            "category",
            "moduleTheme"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "nivel",
            "totalMs",
            "target"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "colors",
            "start",
            "end",
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "justifyContent"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "position",
            "left",
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderTopLeftRadius",
            "borderTopRightRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderWidth",
            "borderColor",
            "shadowOpacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "toValue",
            "duration",
            "useNativeDriver"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "inputRange",
            "outputRange"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderBottomLeftRadius",
            "borderBottomRightRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderWidth",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "colors",
            "start",
            "end",
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderBottomLeftRadius",
            "borderBottomRightRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "alignItems",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "transform",
            "fontSize",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "rotate"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "height",
            "overflow"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "scroll",
            "sectionTitle",
            "cardWrap",
            "card",
            "cardPressed",
            "cardEmoji",
            "cardText",
            "segmentedWrap",
            "blendOverlay",
            "continuousBg",
            "segmentedRow",
            "segCol",
            "segPress",
            "segStars",
            "segLabel",
            "softDivider"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexGrow",
            "padding",
            "justifyContent",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "fontSize",
            "fontWeight",
            "color",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "flexDirection",
            "alignItems",
            "justifyContent",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "transform",
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "scale"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "marginLeft"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderBottomLeftRadius",
            "borderBottomRightRadius",
            "overflow",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "height",
            "width",
            "position",
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "position"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "alignItems",
            "justifyContent",
            "paddingVertical",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "textShadowColor",
            "textShadowOffset",
            "textShadowRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "position",
            "right",
            "top",
            "bottom",
            "width",
            "backgroundColor"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "expo-linear-gradient",
        "Fracciones",
        "Ecuaciones",
        "facil",
        "medio",
        "MEDIO",
        "dificil",
        "America/Bogota",
        "es-CO",
        "numeric",
        "2-digit",
        "800",
        "Perfil",
        "900",
        "ExerciseScreen",
        "TimeAttackScreen",
        "space-between",
        "invisible",
        "absolute",
        "none",
        "0deg",
        "90deg",
        "row",
        "center",
        "hidden",
        "flex-start",
        "stretch",
        "relative"
      ]
    },
    "screens\\LoginScreen.js": {
      "path": "screens\\LoginScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useState } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            }
          ]
        },
        {
          "raw": "import { Text, TextInput, TouchableOpacity, View } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "TextInput",
              "imported": "TextInput"
            },
            {
              "type": "ImportSpecifier",
              "local": "TouchableOpacity",
              "imported": "TouchableOpacity"
            },
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import styles from '../styles/styles';",
          "source": "../styles/styles",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "styles",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function LoginScreen({ navigation }) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { signIn } = useContext(AppContext);\r\n\r\n  return (\r\n    <View style={styles.authContainer}>\r\n      <View style={styles.card}>\r\n        <Text style={styles.authTitle}>Iniciar sesi칩n</Text>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Correo electr칩nico\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          value={username}\r\n          onChangeText={setUsername}\r\n        />\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Contrase침a\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          secureTextEntry\r\n          value={password}\r\n          onChangeText={setPassword}\r\n        />\r\n        <TouchableOpacity style={styles.button} onPress={() => signIn(username, password)}>\r\n          <Text style={styles.buttonText}>Ingresar al sistema</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => navigation.navigate('Register')}>\r\n          <Text style={styles.linkText}>쯅o tienes cuenta? Reg칤strate aqu칤</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "LoginScreen",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "username,setUsername",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "password,setPassword",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "invoked": "navigate"
        }
      ],
      "components": [
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        },
        {
          "name": "LoginScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "username",
          "setUsername",
          "password",
          "setPassword"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": []
      },
      "objects": [],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "Register"
      ]
    },
    "screens\\ProfileScreen.js": {
      "path": "screens\\ProfileScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useMemo, useState } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useMemo",
              "imported": "useMemo"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            }
          ]
        },
        {
          "raw": "import { SafeAreaView, View, Text, StyleSheet, Pressable, ScrollView, Switch, Modal } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "SafeAreaView",
              "imported": "SafeAreaView"
            },
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            },
            {
              "type": "ImportSpecifier",
              "local": "Pressable",
              "imported": "Pressable"
            },
            {
              "type": "ImportSpecifier",
              "local": "ScrollView",
              "imported": "ScrollView"
            },
            {
              "type": "ImportSpecifier",
              "local": "Switch",
              "imported": "Switch"
            },
            {
              "type": "ImportSpecifier",
              "local": "Modal",
              "imported": "Modal"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import ShopScreen from './ShopScreen';",
          "source": "./ShopScreen",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "ShopScreen",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function ProfileScreen({ onClose }) {\r\n  const {\r\n    user, signOut,\r\n    highContrast, setHighContrast,\r\n    reduceMotion, setReduceMotion,\r\n    preloadNext, setPreloadNext,\r\n  } = useContext(AppContext);\r\n\r\n  const [shopVisible, setShopVisible] = useState(false);\r\n\r\n  const { streak, bestStreak, xp, todayDone } = useMemo(() => {\r\n    const p = user?.progress || {};\r\n    const today = getTodayYMD();\r\n    return {\r\n      streak: Number(p.currentStreak || 0),\r\n      bestStreak: Number(p.bestStreak || 0),\r\n      xp: Number(p.xp || 0),\r\n      todayDone: p.dailyChallengeCompletedDate === today,\r\n    };\r\n  }, [user]);\r\n\r\n  const initials = (user?.fullName || user?.email || 'U')\r\n    .split(' ').map(s => s[0]).join('').slice(0, 2).toUpperCase();\r\n\r\n  return (\r\n    <SafeAreaView style={sx.container}>\r\n      <View style={sx.header}>\r\n        <Text style={sx.headerTitle}>Perfil</Text>\r\n        {onClose && (\r\n          <Pressable onPress={onClose} style={{ padding: 8 }}>\r\n            <Text style={{ fontWeight: '900' }}>Cerrar</Text>\r\n          </Pressable>\r\n        )}\r\n      </View>\r\n\r\n      <ScrollView contentContainerStyle={sx.scroll} showsVerticalScrollIndicator={false}>\r\n        {/* Card usuario */}\r\n        <View style={sx.card}>\r\n          <View style={sx.avatar}><Text style={sx.avatarText}>{initials}</Text></View>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={sx.name}>{user?.fullName}</Text>\r\n            <Text style={sx.sub}>{user?.email}</Text>\r\n            {!!user?.course && <Text style={sx.sub}>Curso: {user.course}</Text>}\r\n            {!!user?.documentId && <Text style={sx.sub}>Documento: {user.documentId}</Text>}\r\n          </View>\r\n        </View>\r\n\r\n        {/* M칠tricas */}\r\n        <View style={sx.row}>\r\n          <View style={sx.stat}><Text style={sx.statLabel}>Racha</Text><Text style={sx.statValue}>游댠 {streak}</Text></View>\r\n          <View style={sx.stat}><Text style={sx.statLabel}>Mejor racha</Text><Text style={sx.statValue}>游끤 {bestStreak}</Text></View>\r\n          <View style={sx.stat}><Text style={sx.statLabel}>XP</Text><Text style={sx.statValue}>救 {xp}</Text></View>\r\n        </View>\r\n\r\n        {/* Estado de hoy */}\r\n        <View style={[sx.pill, { backgroundColor: todayDone ? '#DCFCE7' : '#FEE2E2', borderColor: todayDone ? '#16A34A' : '#DC2626' }]}>\r\n          <Text style={[sx.pillText, { color: todayDone ? '#166534' : '#991B1B' }]}>\r\n            {todayDone ? '九 Reto de hoy completado' : '낍 A칰n no has completado el reto de hoy'}\r\n          </Text>\r\n        </View>\r\n\r\n        {/* Configuraci칩n */}\r\n        <View style={sx.settingsCard}>\r\n          <Text style={sx.settingsTitle}>Configuraci칩n</Text>\r\n\r\n          <RowSwitch\r\n            title=\"Modo alto contraste\"\r\n            subtitle=\"Interfaz formal, m칤nima y con colores reducidos.\"\r\n            value={highContrast}\r\n            onValueChange={setHighContrast}\r\n          />\r\n\r\n          <RowSwitch\r\n            title=\"Reducir animaciones\"\r\n            subtitle=\"Evita sacudidas, pulsos y transiciones prolongadas.\"\r\n            value={reduceMotion}\r\n            onValueChange={setReduceMotion}\r\n          />\r\n\r\n          <Pressable onPress={() => setShopVisible(true)} style={sx.shopBtn}>\r\n            <Text style={sx.shopBtnText}>游 Abrir tienda</Text>\r\n          </Pressable>\r\n        </View>\r\n\r\n        <Pressable style={sx.signoutBtn} onPress={signOut}>\r\n          <Text style={sx.signoutText}>Cerrar sesi칩n</Text>\r\n        </Pressable>\r\n\r\n        <View style={{ height: 28 }} />\r\n      </ScrollView>\r\n\r\n      <Modal visible={shopVisible} animationType=\"slide\" onRequestClose={() => setShopVisible(false)}>\r\n        <ShopScreen onClose={() => setShopVisible(false)} />\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "ProfileScreen",
          "params": [
            "ObjectPattern"
          ]
        },
        {
          "name": "RowSwitch",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "getTodayYMD",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "tz",
          "kind": "const"
        },
        {
          "name": "now",
          "kind": "const"
        },
        {
          "name": "fmt",
          "kind": "const"
        },
        {
          "name": "parts",
          "kind": "const"
        },
        {
          "invoked": "reduce"
        },
        {
          "invoked": "formatToParts"
        },
        {
          "name": "shopVisible,setShopVisible",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "today",
          "kind": "const"
        },
        {
          "name": "initials",
          "kind": "const"
        },
        {
          "invoked": "toUpperCase"
        },
        {
          "invoked": "slice"
        },
        {
          "invoked": "join"
        },
        {
          "invoked": "map"
        },
        {
          "invoked": "split"
        },
        {
          "name": "sx",
          "kind": "const"
        },
        {
          "invoked": "create"
        }
      ],
      "components": [
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "ProfileScreen",
          "jsx": true
        },
        {
          "name": "RowSwitch",
          "jsx": true
        },
        {
          "name": "RowSwitch",
          "jsx": true
        },
        {
          "name": "RowSwitch",
          "jsx": true
        },
        {
          "name": "RowSwitch",
          "jsx": true
        },
        {
          "name": "RowSwitch",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "shopVisible",
          "setShopVisible"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "timeZone",
            "year",
            "month",
            "day"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "streak",
            "bestStreak",
            "xp",
            "todayDone"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "container",
            "header",
            "headerTitle",
            "scroll",
            "card",
            "avatar",
            "avatarText",
            "name",
            "sub",
            "row",
            "stat",
            "statLabel",
            "statValue",
            "pill",
            "pillText",
            "settingsCard",
            "settingsTitle",
            "rowSwitch",
            "rowTitle",
            "rowSub",
            "shopBtn",
            "shopBtnText",
            "signoutBtn",
            "signoutText"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "paddingHorizontal",
            "paddingTop",
            "paddingBottom",
            "flexDirection",
            "justifyContent",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "alignItems",
            "gap",
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "padding",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height",
            "borderRadius",
            "backgroundColor",
            "alignItems",
            "justifyContent"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "gap",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "paddingVertical",
            "paddingHorizontal",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "fontWeight",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "alignSelf",
            "borderWidth",
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "padding",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "fontSize",
            "color",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "alignItems",
            "paddingVertical",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "marginTop",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "backgroundColor",
            "borderRadius",
            "alignItems",
            "paddingVertical"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "paddingVertical",
            "alignItems",
            "justifyContent",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize"
          ]
        }
      ],
      "firebasePaths": [
        "signOut",
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "America/Bogota",
        "es-CO",
        "numeric",
        "2-digit",
        "900",
        "slide",
        "row",
        "space-between",
        "center",
        "800",
        "700",
        "flex-start"
      ]
    },
    "screens\\RegisterScreen.js": {
      "path": "screens\\RegisterScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useState } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            }
          ]
        },
        {
          "raw": "import { Text, TextInput, TouchableOpacity, View } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "TextInput",
              "imported": "TextInput"
            },
            {
              "type": "ImportSpecifier",
              "local": "TouchableOpacity",
              "imported": "TouchableOpacity"
            },
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import styles from '../styles/styles';",
          "source": "../styles/styles",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "styles",
              "imported": "default"
            }
          ]
        },
        {
          "raw": "import Toast from 'react-native-toast-message';",
          "source": "react-native-toast-message",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "Toast",
              "imported": "default"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function RegisterScreen({ navigation }) {\r\n  const [fullName, setFullName] = useState('');\r\n  const [documentId, setDocumentId] = useState('');\r\n  const [course, setCourse] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const { signUp } = useContext(AppContext);\r\n\r\n  const handleRegister = () => {\r\n    if (password !== confirmPassword) {\r\n      Toast.show({\r\n        type: 'error',\r\n        text1: 'Error',\r\n        text2: 'Las contrase침as no coinciden.',\r\n      });\r\n      return;\r\n    }\r\n    signUp(fullName, documentId, course, email, password);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.authContainer}>\r\n      <View style={styles.card}>\r\n        <Text style={styles.authTitle}>Registrarse</Text>\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Nombre completo\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          value={fullName}\r\n          onChangeText={setFullName}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Documento de identidad\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          keyboardType=\"numeric\"\r\n          value={documentId}\r\n          onChangeText={setDocumentId}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Curso\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          value={course}\r\n          onChangeText={setCourse}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Correo electr칩nico\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          keyboardType=\"email-address\"\r\n          value={email}\r\n          onChangeText={setEmail}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Contrase침a\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          secureTextEntry\r\n          value={password}\r\n          onChangeText={setPassword}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Confirmar contrase침a\"\r\n          placeholderTextColor=\"#3E4C59\"\r\n          secureTextEntry\r\n          value={confirmPassword}\r\n          onChangeText={setConfirmPassword}\r\n        />\r\n\r\n        <TouchableOpacity style={styles.button} onPress={handleRegister}>\r\n          <Text style={styles.buttonText}>Registrarse</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TouchableOpacity onPress={() => navigation.navigate('Login')}>\r\n          <Text style={styles.linkText}>쯏a tienes cuenta? Inicia sesi칩n</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "RegisterScreen",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "fullName,setFullName",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "documentId,setDocumentId",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "course,setCourse",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "email,setEmail",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "password,setPassword",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "confirmPassword,setConfirmPassword",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "handleRegister",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "show"
        },
        {
          "invoked": "navigate"
        }
      ],
      "components": [
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        },
        {
          "name": "RegisterScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "fullName",
          "setFullName",
          "documentId",
          "setDocumentId",
          "course",
          "setCourse",
          "email",
          "setEmail",
          "password",
          "setPassword",
          "confirmPassword",
          "setConfirmPassword"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "type",
            "text1",
            "text2"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "react-native-toast-message",
        "error",
        "Error",
        "numeric",
        "Curso",
        "email-address",
        "Login"
      ]
    },
    "screens\\ShopScreen.js": {
      "path": "screens\\ShopScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useMemo, useEffect, useState } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useMemo",
              "imported": "useMemo"
            },
            {
              "type": "ImportSpecifier",
              "local": "useEffect",
              "imported": "useEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            }
          ]
        },
        {
          "raw": "import { SafeAreaView, View, Text, StyleSheet, Pressable, ScrollView } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "SafeAreaView",
              "imported": "SafeAreaView"
            },
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            },
            {
              "type": "ImportSpecifier",
              "local": "Pressable",
              "imported": "Pressable"
            },
            {
              "type": "ImportSpecifier",
              "local": "ScrollView",
              "imported": "ScrollView"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function ShopScreen({ onClose }) {\r\n  const {\r\n    user,\r\n    buyLifeWithXP,\r\n    upgradeLivesMax,\r\n    reduceRecoveryTime,\r\n    upgradeAttempts,\r\n    timeToNextLifeMs,\r\n  } = useContext(AppContext);\r\n\r\n  const p = user?.progress || {};\r\n  const { xp, lives, livesMax, lifeRecoveryMinutes, maxAttemptsPerQuestion } = p;\r\n\r\n  // ticker para cron칩metro\r\n  const [nowTick, setNowTick] = useState(0);\r\n  useEffect(() => {\r\n    const id = setInterval(() => setNowTick(t => t + 1), 1000);\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  // Convierte ms -> \"HH:MM:SS\"\r\n  const formatHMS = (ms) => {\r\n    if (!ms || ms <= 0) return '00:00:00';\r\n    const total = Math.ceil(ms / 1000); // que se sienta \"countdown\"\r\n    const h = Math.floor(total / 3600);\r\n    const m = Math.floor((total % 3600) / 60);\r\n    const s = total % 60;\r\n    const pad = (n) => String(n).padStart(2, '0');\r\n    return `${pad(h)}:${pad(m)}:${pad(s)}`;\r\n  };\r\n  \r\n  // usa nowTick para forzar rec치lculo cada segundo\r\n  const msLeft = timeToNextLifeMs() + (nowTick && 0);\r\n  const nextLifeStr = msLeft ? formatHMS(msLeft) : '';\r\n\r\n  const items = useMemo(() => ([\r\n    {\r\n      key: 'life',\r\n      title: 'Recargar 1 vida',\r\n      desc: 'A침ade una vida inmediata (hasta tu m치ximo).',\r\n      price: 50,\r\n      action: async () => buyLifeWithXP(50),\r\n      disabled: lives >= livesMax,\r\n      badge: `Vidas ${lives}/${livesMax} ${msLeft ? `(+1 en ${nextLifeStr})` : ''}`,\r\n    },\r\n    {\r\n      key: 'max',\r\n      title: 'Aumentar vidas m치ximas',\r\n      desc: 'Sube tu l칤mite de vidas hasta 10.',\r\n      priceDynamic: true,\r\n      action: upgradeLivesMax,\r\n      disabled: livesMax >= 10,\r\n      badge: `${livesMax}  ${Math.min(10, livesMax + 1)}`,\r\n      priceHint: 150 + Math.max(0, livesMax - 5) * 50,\r\n    },\r\n    {\r\n      key: 'recovery',\r\n      title: 'Reducir tiempo de recuperaci칩n',\r\n      desc: 'Recupera una vida m치s r치pido (m칤nimo: 30 min).',\r\n      priceDynamic: true,\r\n      action: reduceRecoveryTime,\r\n      disabled: lifeRecoveryMinutes <= 30,\r\n      badge: `${lifeRecoveryMinutes} min`,\r\n      priceHint: lifeRecoveryMinutes > 60 ? 200 : 300,\r\n    },\r\n    {\r\n      key: 'attempts',\r\n      title: 'M치s intentos por pregunta',\r\n      desc: 'Aumenta de 2 hasta un m치ximo de 3.',\r\n      price: 250,\r\n      action: upgradeAttempts,\r\n      disabled: maxAttemptsPerQuestion >= 3,\r\n      badge: `${maxAttemptsPerQuestion}  ${Math.min(3, (maxAttemptsPerQuestion || 2) + 1)}`,\r\n    },\r\n  ]), [lives, livesMax, lifeRecoveryMinutes, maxAttemptsPerQuestion, upgradeLivesMax, reduceRecoveryTime, upgradeAttempts, buyLifeWithXP, msLeft, nextLifeStr]);\r\n\r\n  return (\r\n    <SafeAreaView style={sx.container}>\r\n      <View style={sx.header}>\r\n        <Text style={sx.title}>Tienda</Text>\r\n        <Pressable onPress={onClose} style={sx.closeBtn}><Text style={sx.closeText}>Cerrar</Text></Pressable>\r\n      </View>\r\n\r\n      <ScrollView contentContainerStyle={sx.scroll}>\r\n        <View style={sx.wallet}>\r\n          <Text style={sx.walletText}>救 XP disponible: <Text style={sx.walletStrong}>{xp ?? 0}</Text></Text>\r\n        </View>\r\n\r\n        {items.map((it) => {\r\n          const price = it.priceDynamic ? it.priceHint : it.price;\r\n          const disabled = !!it.disabled || (xp ?? 0) < (price ?? 0);\r\n          return (\r\n            <View key={it.key} style={sx.card}>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={sx.itemTitle}>{it.title}</Text>\r\n                <Text style={sx.itemSub}>{it.desc}</Text>\r\n                <View style={sx.badge}><Text style={sx.badgeText}>{it.badge}</Text></View>\r\n              </View>\r\n              <Pressable onPress={it.action} disabled={disabled} style={[sx.buyBtn, disabled && { opacity: 0.5 }]}>\r\n                <Text style={sx.buyText}>Comprar {price ? `(${price} XP)` : ''}</Text>\r\n              </Pressable>\r\n            </View>\r\n          );\r\n        })}\r\n\r\n        <View style={{ height: 20 }} />\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "ShopScreen",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "p",
          "kind": "const"
        },
        {
          "name": "nowTick,setNowTick",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "id",
          "kind": "const"
        },
        {
          "name": "formatHMS",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "total",
          "kind": "const"
        },
        {
          "invoked": "ceil"
        },
        {
          "name": "h",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "m",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "name": "pad",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "padStart"
        },
        {
          "name": "msLeft",
          "kind": "const"
        },
        {
          "name": "nextLifeStr",
          "kind": "const"
        },
        {
          "name": "items",
          "kind": "const"
        },
        {
          "invoked": "min"
        },
        {
          "invoked": "max"
        },
        {
          "invoked": "min"
        },
        {
          "invoked": "map"
        },
        {
          "name": "price",
          "kind": "const"
        },
        {
          "name": "disabled",
          "kind": "const"
        },
        {
          "name": "sx",
          "kind": "const"
        },
        {
          "invoked": "create"
        }
      ],
      "components": [
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ShopScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "nowTick",
          "setNowTick"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": [
          "useEffect"
        ]
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "key",
            "title",
            "desc",
            "price",
            "action",
            "disabled",
            "badge"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "title",
            "desc",
            "priceDynamic",
            "action",
            "disabled",
            "badge",
            "priceHint"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "title",
            "desc",
            "priceDynamic",
            "action",
            "disabled",
            "badge",
            "priceHint"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "key",
            "title",
            "desc",
            "price",
            "action",
            "disabled",
            "badge"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "container",
            "header",
            "title",
            "closeBtn",
            "closeText",
            "scroll",
            "wallet",
            "walletText",
            "walletStrong",
            "card",
            "itemTitle",
            "itemSub",
            "badge",
            "badgeText",
            "buyBtn",
            "buyText"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "paddingHorizontal",
            "paddingTop",
            "paddingBottom",
            "flexDirection",
            "justifyContent",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "padding",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "gap",
            "backgroundColor",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "padding",
            "alignItems",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop",
            "alignSelf",
            "backgroundColor",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "paddingHorizontal",
            "paddingVertical"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "HH:MM:SS",
        "00:00:00",
        "countdown",
        "life",
        "max",
        "recovery",
        "attempts",
        "row",
        "space-between",
        "center",
        "900",
        "700",
        "flex-start",
        "800"
      ]
    },
    "screens\\TimeAttackScreen.js": {
      "path": "screens\\TimeAttackScreen.js",
      "imports": [
        {
          "raw": "import React, { useContext, useEffect, useLayoutEffect, useRef, useState, useCallback } from 'react';",
          "source": "react",
          "specifiers": [
            {
              "type": "ImportDefaultSpecifier",
              "local": "React",
              "imported": "default"
            },
            {
              "type": "ImportSpecifier",
              "local": "useContext",
              "imported": "useContext"
            },
            {
              "type": "ImportSpecifier",
              "local": "useEffect",
              "imported": "useEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useLayoutEffect",
              "imported": "useLayoutEffect"
            },
            {
              "type": "ImportSpecifier",
              "local": "useRef",
              "imported": "useRef"
            },
            {
              "type": "ImportSpecifier",
              "local": "useState",
              "imported": "useState"
            },
            {
              "type": "ImportSpecifier",
              "local": "useCallback",
              "imported": "useCallback"
            }
          ]
        },
        {
          "raw": "import { View, Text, StyleSheet, Pressable, SafeAreaView, Modal, ActivityIndicator } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "View",
              "imported": "View"
            },
            {
              "type": "ImportSpecifier",
              "local": "Text",
              "imported": "Text"
            },
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            },
            {
              "type": "ImportSpecifier",
              "local": "Pressable",
              "imported": "Pressable"
            },
            {
              "type": "ImportSpecifier",
              "local": "SafeAreaView",
              "imported": "SafeAreaView"
            },
            {
              "type": "ImportSpecifier",
              "local": "Modal",
              "imported": "Modal"
            },
            {
              "type": "ImportSpecifier",
              "local": "ActivityIndicator",
              "imported": "ActivityIndicator"
            }
          ]
        },
        {
          "raw": "import { LinearGradient } from 'expo-linear-gradient';",
          "source": "expo-linear-gradient",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "LinearGradient",
              "imported": "LinearGradient"
            }
          ]
        },
        {
          "raw": "import { AppContext } from '../contexts/AppContext';",
          "source": "../contexts/AppContext",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "AppContext",
              "imported": "AppContext"
            }
          ]
        },
        {
          "raw": "import { normalizeQuestion } from '../utils/questions';",
          "source": "../utils/questions",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "normalizeQuestion",
              "imported": "normalizeQuestion"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default function TimeAttackScreen({ route, navigation }) {\r\n  const { totalMs = 120000 } = route.params ?? {};\r\n  const {\r\n    highContrast, reduceMotion,\r\n    getBatchQuestions, addXP,\r\n  } = useContext(AppContext);\r\n\r\n  // --------- CONFIG DE ESTA MODALIDAD ---------\r\n  const TARGET = 5;           // preguntas por ronda inicial\r\n  const REWARD_XP = 200;      // premio final si completas todo\r\n  const START_LIVES = 3;      // vidas locales para esta modalidad\r\n\r\n  // --------- FASES ---------\r\n  // preload -> playing -> reviewWrong -> done\r\n  const [phase, setPhase] = useState('preload');\r\n\r\n  // temporizador\r\n  const [remaining, setRemaining] = useState(totalMs);\r\n  const timerRef = useRef(null);\r\n  const startTsRef = useRef(null);\r\n\r\n  // vidas locales\r\n  const [lives, setLives] = useState(START_LIVES);\r\n\r\n  // paquetes\r\n  const [pack, setPack] = useState([]);       // lote de juego actual\r\n  const [index, setIndex] = useState(0);      // 칤ndice actual dentro del pack\r\n  const q = pack[index] || null;\r\n\r\n  // para la segunda vuelta (solo las malas)\r\n  const wrongQueueRef = useRef([]);           // acumulador de falladas en la 1춹 pasada\r\n  const [isReviewRound, setIsReviewRound] = useState(false);\r\n\r\n  // UI / estado de respuesta\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadError, setLoadError] = useState('');\r\n  const [resultModal, setResultModal] = useState({ show: false, win: false });\r\n  const [selected, setSelected] = useState(null); // opci칩n elegida\r\n  const [showContinue, setShowContinue] = useState(false); // mostrar bot칩n Continuar tras fallar\r\n  const [answeredCorrect, setAnsweredCorrect] = useState(0); // aciertos de la ronda actual\r\n\r\n  // ---------- HEADER ----------\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerTitle: 'Contrarreloj',\r\n      headerTitleStyle: { fontWeight: '800', fontSize: 18, color: '#fff' },\r\n      headerTintColor: '#fff',\r\n      headerBackground: () => highContrast\r\n        ? <View style={{ flex: 1, backgroundColor: '#0B0B0B' }} />\r\n        : <LinearGradient colors={['#111827', '#1f2937']} style={{ flex: 1 }} start={{ x: 0, y: 0 }} end={{ x: 1, y: 0 }} />,\r\n      headerShadowVisible: false,\r\n    });\r\n  }, [navigation, highContrast]);\r\n\r\n  // ---------- CARGA DE PREGUNTAS (mezcla aleatoria de BD) ----------\r\n  const preloadMixed = useCallback(async () => {\r\n    setLoading(true);\r\n    setLoadError('');\r\n    try {\r\n      // pedimos un pu침ado de cada combinaci칩n (peque침o para no sobrecargar)\r\n      const all = [];\r\n      const seen = new Set();\r\n      for (const lvl of LEVELS) {\r\n        // pedimos por grupos de categor칤as para ese nivel\r\n        const fromLevel = await getBatchQuestions({ level: lvl, count: 8, categories: CATS });\r\n        for (const raw of (fromLevel || [])) {\r\n          const q = normalizeQuestion(raw, raw.level, raw.category);\r\n          if (q?.type !== 'multiple') continue;\r\n          const key = q._idHash || JSON.stringify([q.level, q.category, q.question, q.answer, (q.options || []).join('|')]);\r\n          if (seen.has(key)) continue;\r\n          seen.add(key);\r\n          all.push(q);\r\n        }\r\n      }\r\n      if (all.length < 3) {\r\n        setLoadError('No hay suficientes preguntas en la base de datos.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      const round = sample(all, TARGET);\r\n      setPack(round);\r\n      setIndex(0);\r\n      wrongQueueRef.current = [];\r\n      setIsReviewRound(false);\r\n      setAnsweredCorrect(0);\r\n      setSelected(null);\r\n      setShowContinue(false);\r\n      setLives(START_LIVES);\r\n      setPhase('playing');\r\n    } catch (e) {\r\n      console.error('preloadMixed error:', e);\r\n      setLoadError('Error al preparar ejercicios.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [getBatchQuestions]);\r\n\r\n  // montaje: precargar y arrancar el reloj\r\n  useEffect(() => {\r\n    preloadMixed();\r\n  }, [preloadMixed]);\r\n\r\n  // reloj\r\n  useEffect(() => {\r\n    if (phase !== 'playing') return;\r\n    startTsRef.current = Date.now();\r\n    setRemaining(totalMs);\r\n    if (timerRef.current) clearInterval(timerRef.current);\r\n    timerRef.current = setInterval(() => {\r\n      const elapsed = Date.now() - startTsRef.current;\r\n      const left = totalMs - elapsed;\r\n      setRemaining(left > 0 ? left : 0);\r\n    }, 200);\r\n    return () => { if (timerRef.current) clearInterval(timerRef.current); };\r\n  }, [phase, totalMs]);\r\n\r\n  // terminar por tiempo\r\n  useEffect(() => {\r\n    if (phase === 'playing' && remaining <= 0) {\r\n      endLose();\r\n    }\r\n  }, [remaining, phase]);\r\n\r\n  // ---------- helpers fin ----------\r\n  const endLose = () => {\r\n    setPhase('done');\r\n    if (timerRef.current) clearInterval(timerRef.current);\r\n    setResultModal({ show: true, win: false });\r\n  };\r\n  const endWin = async () => {\r\n    setPhase('done');\r\n    if (timerRef.current) clearInterval(timerRef.current);\r\n    // premio\r\n    try { await addXP(REWARD_XP); } catch { /* noop */ }\r\n    setResultModal({ show: true, win: true });\r\n  };\r\n\r\n  // ---------- navegaci칩n de preguntas ----------\r\n  const nextQuestion = () => {\r\n    setSelected(null);\r\n    setShowContinue(false);\r\n    const nextIdx = index + 1;\r\n    if (nextIdx < pack.length) {\r\n      setIndex(nextIdx);\r\n      return;\r\n    }\r\n    // fin de la ronda actual\r\n    if (!isReviewRound) {\r\n      // si hubo fallos y quedan tiempo y vidas -> pasamos a ronda de repaso\r\n      if (wrongQueueRef.current.length > 0 && remaining > 0 && lives > 0) {\r\n        setPack(wrongQueueRef.current);\r\n        setIndex(0);\r\n        wrongQueueRef.current = [];\r\n        setIsReviewRound(true);\r\n        setAnsweredCorrect(0);\r\n      } else {\r\n        // todas bien en la primera pasada o no hay tiempo/vidas => victoria si todas bien\r\n        if (wrongQueueRef.current.length === 0) endWin();\r\n        else endLose();\r\n      }\r\n    } else {\r\n      // terminamos ronda de repaso: si ya no hubo fallos, victoria\r\n      if (wrongQueueRef.current.length === 0) endWin();\r\n      else endLose();\r\n    }\r\n  };\r\n\r\n  // ---------- interacci칩n ----------\r\n  const onPick = (opt) => {\r\n    if (phase !== 'playing' || !q || q.type !== 'multiple' || showContinue) return;\r\n    setSelected(opt);\r\n    const ok = opt === q.answer;\r\n    if (ok) {\r\n      setAnsweredCorrect(v => v + 1);\r\n      nextQuestion();\r\n    } else {\r\n      // fallo: consumimos vida y guardamos para repaso\r\n      if (lives - 1 <= 0) {\r\n        setLives(0);\r\n        endLose();\r\n        return;\r\n      }\r\n      setLives(l => l - 1);\r\n      wrongQueueRef.current.push(q);\r\n      // marcar rojo y mostrar Continuar렢r\n      setShowContinue(true);\r\n    }\r\n  };\r\n\r\n  const onContinueAfterWrong = () => {\r\n    // tras mostrar en rojo, pasamos a la siguiente\r\n    nextQuestion();\r\n  };\r\n\r\n  // ---------- UI ----------\r\n  const Container = highContrast ? View : LinearGradient;\r\n  const containerProps = highContrast\r\n    ? { style: styles.container }\r\n    : { colors: ['#e2e8f0', '#cbd5e1'], start: { x: 0, y: 0 }, end: { x: 1, y: 1 }, style: styles.container };\r\n\r\n  const renderPreload = () => (\r\n    <View style={sx.centerBox}>\r\n      <Text style={[sx.titlePre, highContrast && { color: '#0B0B0B' }]}>Preparando ejercicios</Text>\r\n      {loading ? <ActivityIndicator size=\"large\" /> : null}\r\n      {loadError ? (\r\n        <>\r\n          <Text style={[sx.err, highContrast && { color: '#7f1d1d' }]}>{loadError}</Text>\r\n          <Pressable onPress={preloadMixed} style={sx.retryBtn}>\r\n            <Text style={sx.retryText}>Reintentar</Text>\r\n          </Pressable>\r\n        </>\r\n      ) : null}\r\n    </View>\r\n  );\r\n\r\n  const renderGame = () => {\r\n    if (!q) return null;\r\n    return (\r\n      <>\r\n        {/* HUD */}\r\n        <View style={sx.hud}>\r\n          <View style={[sx.badge, highContrast && sx.hcBadge]}>\r\n            <Text style={[sx.badgeText, highContrast && sx.hcBadgeText]}>낌 {formatHMS(remaining)}</Text>\r\n          </View>\r\n          <View style={[sx.badge, highContrast && sx.hcBadge]}>\r\n            <Text style={[sx.badgeText, highContrast && sx.hcBadgeText]}>\r\n              {isReviewRound ? '游대 Repaso' : '游닄 Ronda'} 췅 九 {answeredCorrect}/{pack.length} 췅 仇벒잺 {lives}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n\r\n        {/* Pregunta */}\r\n        <View style={[sx.card, highContrast && sx.hcCard]}>\r\n          <Text style={[sx.qText, highContrast && { color: '#0B0B0B' }]}>{q.question}</Text>\r\n        </View>\r\n\r\n        {/* Opciones */}\r\n        <View style={{ marginTop: 4 }}>\r\n          {(q.options ?? []).map((opt, i) => {\r\n            const wrong = showContinue && selected === opt && opt !== q.answer;\r\n            const correct = showContinue && opt === q.answer;\r\n            return (\r\n              <Pressable key={i}\r\n                disabled={showContinue}\r\n                onPress={() => onPick(opt)}\r\n                style={({ pressed }) => [\r\n                  sx.opt,\r\n                  highContrast && sx.hcOpt,\r\n                  wrong && sx.optWrong,\r\n                  correct && sx.optCorrect,\r\n                  pressed && !showContinue && { opacity: 0.92, transform: [{ scale: 0.98 }] }\r\n                ]}\r\n              >\r\n                <Text style={[\r\n                  sx.optText,\r\n                  highContrast && sx.hcOptText,\r\n                  (wrong || correct) && { color: '#fff' }\r\n                ]}>\r\n                  {opt}\r\n                </Text>\r\n              </Pressable>\r\n            );\r\n          })}\r\n        </View>\r\n\r\n        {/* Continuar cuando fall칩 */}\r\n        {showContinue && (\r\n          <>\r\n            <Text style={[sx.helpText, highContrast && { color: '#0B0B0B' }]}>\r\n              Respuesta correcta: <Text style={{ fontWeight: '900' }}>{String(q.answer)}</Text>\r\n            </Text>\r\n            <Pressable onPress={onContinueAfterWrong} style={sx.continueBtn}>\r\n              <Text style={sx.continueText}>Continuar</Text>\r\n            </Pressable>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container {...containerProps}>\r\n      <SafeAreaView style={{ flex: 1 }}>\r\n        {phase === 'preload' && renderPreload()}\r\n        {phase !== 'preload' && renderGame()}\r\n\r\n        {/* Modal fin */}\r\n        <Modal transparent visible={resultModal.show} animationType={reduceMotion ? 'none' : 'fade'}>\r\n          <View style={sx.modalBackdrop}>\r\n            <View style={[sx.modalCard, highContrast && sx.hcCard]}>\r\n              {resultModal.win ? (\r\n                <>\r\n                  <Text style={sx.modalTitle}>춰Lo lograste! 游꿀</Text>\r\n                  <Text style={sx.modalBody}>Completaste todas las preguntas. +{REWARD_XP} XP</Text>\r\n                  <Pressable onPress={() => { setResultModal({ show: false, win: false }); navigation.popToTop(); }} style={sx.modalBtn}>\r\n                    <Text style={sx.modalBtnText}>Continuar</Text>\r\n                  </Pressable>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Text style={sx.modalTitle}>춰Fin del juego!</Text>\r\n                  <Text style={sx.modalBody}>Te quedaste sin tiempo o sin vidas.</Text>\r\n                  <Pressable onPress={() => { setResultModal({ show: false, win: false }); navigation.popToTop(); }} style={sx.modalBtn}>\r\n                    <Text style={sx.modalBtnText}>Volver</Text>\r\n                  </Pressable>\r\n                </>\r\n              )}\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </SafeAreaView>\r\n    </Container>\r\n  );\r\n}",
          "declarationType": "FunctionDeclaration"
        }
      ],
      "functions": [
        {
          "name": "TimeAttackScreen",
          "params": [
            "ObjectPattern"
          ]
        }
      ],
      "variables": [
        {
          "name": "CATS",
          "kind": "const"
        },
        {
          "name": "LEVELS",
          "kind": "const"
        },
        {
          "name": "formatHMS",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "t",
          "kind": "const"
        },
        {
          "invoked": "ceil"
        },
        {
          "name": "m",
          "kind": "const"
        },
        {
          "name": "s",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "name": "pad",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "padStart"
        },
        {
          "name": "sample",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "a",
          "kind": "const"
        },
        {
          "name": "i",
          "kind": "let"
        },
        {
          "name": "j",
          "kind": "const"
        },
        {
          "invoked": "floor"
        },
        {
          "invoked": "random"
        },
        {
          "invoked": "slice"
        },
        {
          "name": "TARGET",
          "kind": "const"
        },
        {
          "name": "REWARD_XP",
          "kind": "const"
        },
        {
          "name": "START_LIVES",
          "kind": "const"
        },
        {
          "name": "phase,setPhase",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "remaining,setRemaining",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "timerRef",
          "kind": "const"
        },
        {
          "name": "startTsRef",
          "kind": "const"
        },
        {
          "name": "lives,setLives",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "pack,setPack",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "index,setIndex",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "q",
          "kind": "const"
        },
        {
          "name": "wrongQueueRef",
          "kind": "const"
        },
        {
          "name": "isReviewRound,setIsReviewRound",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "loading,setLoading",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "loadError,setLoadError",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "resultModal,setResultModal",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "selected,setSelected",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "showContinue,setShowContinue",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "name": "answeredCorrect,setAnsweredCorrect",
          "kind": "destructured",
          "initCall": "useState"
        },
        {
          "invoked": "setOptions"
        },
        {
          "name": "preloadMixed",
          "kind": "const"
        },
        {
          "name": "all",
          "kind": "const"
        },
        {
          "name": "seen",
          "kind": "const"
        },
        {
          "name": "lvl",
          "kind": "const"
        },
        {
          "name": "fromLevel",
          "kind": "const"
        },
        {
          "name": "raw",
          "kind": "const"
        },
        {
          "name": "q",
          "kind": "const"
        },
        {
          "name": "key",
          "kind": "const"
        },
        {
          "invoked": "stringify"
        },
        {
          "invoked": "join"
        },
        {
          "invoked": "has"
        },
        {
          "invoked": "add"
        },
        {
          "invoked": "push"
        },
        {
          "name": "round",
          "kind": "const"
        },
        {
          "invoked": "error"
        },
        {
          "invoked": "now"
        },
        {
          "name": "elapsed",
          "kind": "const"
        },
        {
          "invoked": "now"
        },
        {
          "name": "left",
          "kind": "const"
        },
        {
          "name": "endLose",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "endWin",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "nextQuestion",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "nextIdx",
          "kind": "const"
        },
        {
          "name": "onPick",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "name": "ok",
          "kind": "const"
        },
        {
          "invoked": "push"
        },
        {
          "name": "onContinueAfterWrong",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "Container",
          "kind": "const"
        },
        {
          "name": "containerProps",
          "kind": "const"
        },
        {
          "name": "renderPreload",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "name": "renderGame",
          "kind": "const",
          "isFunction": true,
          "params": []
        },
        {
          "invoked": "map"
        },
        {
          "name": "wrong",
          "kind": "const"
        },
        {
          "name": "correct",
          "kind": "const"
        },
        {
          "invoked": "popToTop"
        },
        {
          "invoked": "popToTop"
        },
        {
          "name": "styles",
          "kind": "const"
        },
        {
          "invoked": "create"
        },
        {
          "name": "sx",
          "kind": "const"
        },
        {
          "invoked": "create"
        }
      ],
      "components": [
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "ArrowFunctionExpression",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        },
        {
          "name": "TimeAttackScreen",
          "jsx": true
        }
      ],
      "hooks": {
        "useState": [
          "phase",
          "setPhase",
          "remaining",
          "setRemaining",
          "lives",
          "setLives",
          "pack",
          "setPack",
          "index",
          "setIndex",
          "isReviewRound",
          "setIsReviewRound",
          "loading",
          "setLoading",
          "loadError",
          "setLoadError",
          "resultModal",
          "setResultModal",
          "selected",
          "setSelected",
          "showContinue",
          "setShowContinue",
          "answeredCorrect",
          "setAnsweredCorrect"
        ],
        "useContext": [
          "AppContext"
        ],
        "useEffect": [
          "useEffect",
          "useEffect",
          "useEffect"
        ]
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "show",
            "win"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "headerTitle",
            "headerTitleStyle",
            "headerTintColor",
            "headerBackground",
            "headerShadowVisible"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "fontSize",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "level",
            "count",
            "categories"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "show",
            "win"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "show",
            "win"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "colors",
            "start",
            "end",
            "style"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "x",
            "y"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "opacity",
            "transform"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "scale"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "show",
            "win"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "show",
            "win"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "container"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "hud",
            "badge",
            "badgeText",
            "hcBadge",
            "hcBadgeText",
            "card",
            "hcCard",
            "qText",
            "opt",
            "optText",
            "hcOpt",
            "hcOptText",
            "optWrong",
            "optCorrect",
            "continueBtn",
            "continueText",
            "helpText",
            "modalBackdrop",
            "modalCard",
            "modalTitle",
            "modalBody",
            "modalBtn",
            "modalBtnText",
            "centerBox",
            "titlePre",
            "err",
            "retryBtn",
            "retryText"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flexDirection",
            "justifyContent",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderWidth",
            "borderColor",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "padding",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "lineHeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "marginVertical"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "marginTop",
            "alignSelf"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "textAlign",
            "marginTop",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor",
            "alignItems",
            "justifyContent",
            "padding"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "padding",
            "borderRadius",
            "borderWidth",
            "borderColor",
            "width",
            "maxWidth",
            "alignItems"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "marginBottom",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "color",
            "textAlign",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "paddingVertical",
            "paddingHorizontal",
            "borderRadius"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "alignItems",
            "justifyContent",
            "gap"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "color"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "color",
            "textAlign",
            "maxWidth"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "paddingVertical",
            "paddingHorizontal",
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react",
        "react-native",
        "expo-linear-gradient",
        "fracciones",
        "algebra",
        "ecuaciones",
        "facil",
        "medio",
        "dificil",
        "00:00",
        "preload",
        "Contrarreloj",
        "800",
        "multiple",
        "playing",
        "done",
        "large",
        "900",
        "none",
        "fade",
        "row",
        "space-between",
        "center"
      ]
    },
    "styles\\styles.js": {
      "path": "styles\\styles.js",
      "imports": [
        {
          "raw": "import { StyleSheet } from 'react-native';",
          "source": "react-native",
          "specifiers": [
            {
              "type": "ImportSpecifier",
              "local": "StyleSheet",
              "imported": "StyleSheet"
            }
          ]
        }
      ],
      "exports": [
        {
          "type": "default",
          "raw": "export default StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#F8FAFC', // tono m치s limpio y moderno\r\n    paddingHorizontal: 16,\r\n    paddingTop: 20,\r\n  },\r\n\r\n  title: {\r\n    fontSize: 28,\r\n    fontWeight: '800',\r\n    textAlign: 'center',\r\n    marginVertical: 24,\r\n    color: '#1E3A8A',\r\n    letterSpacing: 0.5,\r\n  },\r\n\r\n  authContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 24,\r\n    backgroundColor: '#F8FAFC',\r\n  },\r\n\r\n  authTitle: {\r\n    fontSize: 30,\r\n    fontWeight: 'bold',\r\n    marginBottom: 28,\r\n    color: '#1E3A8A',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  input: {\r\n    width: '100%',\r\n    height: 52,\r\n    borderColor: '#CBD5E1', // gris suave, menos agresivo\r\n    borderWidth: 1,\r\n    borderRadius: 12,\r\n    paddingHorizontal: 14,\r\n    marginBottom: 18,\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#334155',\r\n    fontSize: 16,\r\n    shadowColor: '#000',\r\n    shadowOpacity: 0.05,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowRadius: 4,\r\n    elevation: 2,\r\n  },\r\n\r\n  button: {\r\n    backgroundColor: '#2563EB',\r\n    paddingVertical: 16,\r\n    borderRadius: 12,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    marginBottom: 14,\r\n    shadowColor: '#000',\r\n    shadowOpacity: 0.2,\r\n    shadowOffset: { width: 0, height: 3 },\r\n    shadowRadius: 6,\r\n    elevation: 5,\r\n  },\r\n\r\n  buttonText: {\r\n    color: '#FFFFFF',\r\n    fontWeight: '700',\r\n    fontSize: 17,\r\n    letterSpacing: 0.5,\r\n  },\r\n\r\n  linkText: {\r\n    color: '#2563EB',\r\n    marginTop: 12,\r\n    fontSize: 15,\r\n    textAlign: 'center',\r\n    textDecorationLine: 'underline',\r\n  },\r\n\r\n  highlightText: {\r\n    color: '#FACC15',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n\r\n  card: {\r\n    backgroundColor: '#FFFFFF',\r\n    borderRadius: 14,\r\n    padding: 22,\r\n    width: '100%',\r\n    shadowColor: '#000',\r\n    shadowOpacity: 0.12,\r\n    shadowOffset: { width: 0, height: 3 },\r\n    shadowRadius: 8,\r\n    elevation: 6,\r\n    marginBottom: 16,\r\n  },\r\n\r\n  headerButton: {\r\n    color: '#fff',\r\n    fontWeight: '700',\r\n    fontSize: 16,\r\n    letterSpacing: 0.5,\r\n  },\r\n\r\n  modalContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n\r\n  modalContent: {\r\n    width: '90%',\r\n    backgroundColor: '#fff',\r\n    borderRadius: 16,\r\n    padding: 24,\r\n    alignItems: 'center',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 8,\r\n    elevation: 8,\r\n  },\r\n\r\n  profileTitle: {\r\n    fontSize: 26,\r\n    fontWeight: '700',\r\n    marginBottom: 16,\r\n    color: '#0F172A',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  profileText: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n    color: '#475569',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  closeButton: {\r\n    marginTop: 14,\r\n  },\r\n\r\n  closeButtonText: {\r\n    color: '#2563EB',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    textDecorationLine: 'underline',\r\n  },\r\n});",
          "declarationType": "CallExpression"
        }
      ],
      "functions": [],
      "variables": [
        {
          "invoked": "create"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "container",
            "title",
            "authContainer",
            "authTitle",
            "input",
            "button",
            "buttonText",
            "linkText",
            "highlightText",
            "card",
            "headerButton",
            "modalContainer",
            "modalContent",
            "profileTitle",
            "profileText",
            "closeButton",
            "closeButtonText"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor",
            "paddingHorizontal",
            "paddingTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "textAlign",
            "marginVertical",
            "color",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "justifyContent",
            "padding",
            "backgroundColor"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "marginBottom",
            "color",
            "textAlign"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height",
            "borderColor",
            "borderWidth",
            "borderRadius",
            "paddingHorizontal",
            "marginBottom",
            "backgroundColor",
            "color",
            "fontSize",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "paddingVertical",
            "borderRadius",
            "width",
            "alignItems",
            "marginBottom",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "marginTop",
            "fontSize",
            "textAlign",
            "textDecorationLine"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "backgroundColor",
            "borderRadius",
            "padding",
            "width",
            "shadowColor",
            "shadowOpacity",
            "shadowOffset",
            "shadowRadius",
            "elevation",
            "marginBottom"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontWeight",
            "fontSize",
            "letterSpacing"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "flex",
            "backgroundColor",
            "justifyContent",
            "alignItems",
            "paddingHorizontal"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "backgroundColor",
            "borderRadius",
            "padding",
            "alignItems",
            "shadowColor",
            "shadowOffset",
            "shadowOpacity",
            "shadowRadius",
            "elevation"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "width",
            "height"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "fontWeight",
            "marginBottom",
            "color",
            "textAlign"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "fontSize",
            "marginBottom",
            "color",
            "textAlign"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "marginTop"
          ]
        },
        {
          "name": "(anon)",
          "keys": [
            "color",
            "fontSize",
            "fontWeight",
            "textDecorationLine"
          ]
        }
      ],
      "firebasePaths": [
        "set"
      ],
      "stringKeys": [
        "react-native",
        "800",
        "center",
        "bold",
        "700",
        "underline",
        "600"
      ]
    },
    "utils\\questions.js": {
      "path": "utils\\questions.js",
      "imports": [],
      "exports": [
        {
          "type": "named",
          "raw": "export const normalizeQuestion = (q = {}, fallbackLevel, fallbackCat) => {\r\n  // Unifica campos en espa침ol/ingl칠s y estructura segura\r\n  const type =\r\n    q.type === 'matching' || q.tipo === 'emparejamiento'\r\n      ? 'matching'\r\n      : 'multiple';\r\n\r\n  const question = q.question ?? q.pregunta ?? q.instructions ?? q.instrucciones ?? '';\r\n  const options  = asArray(q.options ?? q.opciones);\r\n  const left     = asArray(q.left ?? q.izquierda);\r\n  const right    = asArray(q.right ?? q.derecha);\r\n  const pairs    = Array.isArray(q.pairs ?? q.respuestas) ? (q.pairs ?? q.respuestas) : [];\r\n  const answer   = q.answer ?? q.respuesta ?? '';\r\n\r\n  return {\r\n    ...q,\r\n    type,\r\n    level: q.level ?? fallbackLevel,\r\n    category: q.category ?? fallbackCat,\r\n    question,\r\n    options,\r\n    left,\r\n    right,\r\n    pairs,\r\n    answer,\r\n    explanation: q.explanation ?? q.explicacion ?? '',\r\n  };\r\n};",
          "declarationType": "VariableDeclaration"
        },
        {
          "type": "named",
          "raw": "export const isMatchingWellFormed = (q) =>\r\n  q?.type === 'matching' && Array.isArray(q.left) && Array.isArray(q.right) && Array.isArray(q.pairs);",
          "declarationType": "VariableDeclaration"
        }
      ],
      "functions": [],
      "variables": [
        {
          "name": "asArray",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "normalizeQuestion",
          "kind": "const",
          "isFunction": true,
          "params": [
            "AssignmentPattern",
            "Identifier",
            "Identifier"
          ]
        },
        {
          "name": "type",
          "kind": "const"
        },
        {
          "name": "question",
          "kind": "const"
        },
        {
          "name": "options",
          "kind": "const"
        },
        {
          "name": "left",
          "kind": "const"
        },
        {
          "name": "right",
          "kind": "const"
        },
        {
          "name": "pairs",
          "kind": "const"
        },
        {
          "invoked": "isArray"
        },
        {
          "name": "answer",
          "kind": "const"
        },
        {
          "name": "isMatchingWellFormed",
          "kind": "const",
          "isFunction": true,
          "params": [
            "Identifier"
          ]
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "isArray"
        },
        {
          "invoked": "isArray"
        }
      ],
      "components": [],
      "hooks": {
        "useState": [],
        "useContext": [],
        "useEffect": []
      },
      "objects": [
        {
          "name": "(anon)",
          "keys": [
            "type",
            "level",
            "category",
            "question",
            "options",
            "left",
            "right",
            "pairs",
            "answer",
            "explanation"
          ]
        }
      ],
      "firebasePaths": [],
      "stringKeys": [
        "matching",
        "emparejamiento",
        "multiple"
      ]
    }
  }
}